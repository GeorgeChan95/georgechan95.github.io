<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>010-Kubernetes Helm | George&#39;s Blog</title>
  <meta name="google-site-verification" content="RobLWkyyFziZxPJ4I887QROdX8XrYthcJwWTcuH0wwQ" />
  <meta name="msvalidate.01" content="626D541C48E5D151F52CECC2C6714BD4" />
  <meta name="360-site-verification" content="c838adf8357ca2f614d08ad5235a1717" />
  <meta name="keywords" content=" linux , Docker , Rocky ">
  <meta name="description" content="010-Kubernetes Helm | George&#39;s Blog">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="个人简介本人在合肥，从事后端开发工作。 联系方式 邮箱：&#x67;&#101;&#111;&#114;&#x67;&#x65;&#x5f;&#57;&#53;&#64;&#x31;&#50;&#x36;&#46;&#99;&#x6f;&#109;  邮件可能几天才看一次，如有联系，请耐心等待。">
<meta property="og:type" content="website">
<meta property="og:title" content="关于">
<meta property="og:url" content="https://georgechan95.github.io/about/index.html">
<meta property="og:site_name" content="George&#39;s Blog">
<meta property="og:description" content="个人简介本人在合肥，从事后端开发工作。 联系方式 邮箱：&#x67;&#101;&#111;&#114;&#x67;&#x65;&#x5f;&#57;&#53;&#64;&#x31;&#50;&#x36;&#46;&#99;&#x6f;&#109;  邮件可能几天才看一次，如有联系，请耐心等待。">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2023-11-21T02:29:45.000Z">
<meta property="article:modified_time" content="2024-12-09T05:22:48.462Z">
<meta property="article:author" content="George">
<meta name="twitter:card" content="summary">


<link rel="icon" href="/img/favicon.png">

<link href="/css/style.css?v=1.1.0" rel="stylesheet">

<link href="/css/hl_theme/sublime.css?v=1.1.0" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" rel="stylesheet">

<script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="/js/titleTip.js?v=1.1.0" ></script>

<script src="//cdn.jsdelivr.net/npm/highlightjs@9.16.2/highlight.pack.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>



<script src="//cdn.jsdelivr.net/npm/jquery.cookie@1.4.1/jquery.cookie.min.js" ></script>

<script src="/js/iconfont.js?v=1.1.0" ></script>

<meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="George's Blog" type="application/atom+xml">
</head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="">
  <input class="theme_blog_path" value="">
  <input id="theme_shortcut" value="true" />
  <input id="theme_highlight_on" value="true" />
  <input id="theme_code_copy" value="true" />
</div>



<script src="/js/image-loader.js"></script>
<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/"
   class="avatar_target">
    <img class="avatar"
         src="/img/avatar.jpg"/>
</a>
<div class="author">
    <span>George</span>
</div>

<div class="icon">
    
        
            <a title="rss"
               href="/atom.xml"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-rss"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="github"
               href="https://github.com/GeorgeChan95"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-github"></use>
                    </svg>
                
            </a>
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
            <a title="email"
               href="mailto:george_95@126.com"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-email"></use>
                    </svg>
                
            </a>
        
    
        
    
        
    
        
    
</div>





<ul>
    <li>
        <div class="all active" data-rel="全部文章">全部文章
            
                <small>(121)</small>
            
        </div>
    </li>
    
        
            
                
    <li>
        <div data-rel="设计模式">
            
            设计模式
            <small>(24)</small>
        </div>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="算法">
            
            算法
            <small>(5)</small>
        </div>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="Docker">
            
            Docker
            <small>(1)</small>
        </div>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="Hexo">
            <i class="fold iconfont icon-right"></i>
            Hexo
            <small>(5)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="Hexo&lt;---&gt;Typora">
            
            Typora
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="JUC">
            
            JUC
            <small>(24)</small>
        </div>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="JVM">
            
            JVM
            <small>(27)</small>
        </div>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="k8s">
            
            k8s
            <small>(24)</small>
        </div>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="linux">
            
            linux
            <small>(4)</small>
        </div>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="neo4j">
            
            neo4j
            <small>(3)</small>
        </div>
        
    </li>

            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="Python">
            <i class="fold iconfont icon-right"></i>
            Python
            <small>(3)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="Python&lt;---&gt;PyCharm">
            
            PyCharm
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="UML">
            
            UML
            <small>(1)</small>
        </div>
        
    </li>

            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
        
            
            
            
    </div>
    <div>
        
            <a class="about  site_url"
               
               href="/about">关于</a>
        
        
    </div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="121">
<input type="hidden" id="yelog_site_word_count" value="594k">
<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        友情链接
        <i class="iconfont icon-left"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="http://yelog.org/">叶落阁</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <div class="right-top">
        <div id="default-panel">
            <i class="iconfont icon-search" data-title="搜索 快捷键 i"></i>
            <div class="right-title">全部文章</div>
            <i class="iconfont icon-file-tree" data-title="切换到大纲视图 快捷键 w"></i>
        </div>
        <div id="search-panel">
            <i class="iconfont icon-left" data-title="返回"></i>
            <input id="local-search-input" autocomplete="off"/>
            <label class="border-line" for="input"></label>
            <i class="iconfont icon-case-sensitive" data-title="大小写敏感"></i>
            <i class="iconfont icon-tag" data-title="标签"></i>
        </div>
        <div id="outline-panel" style="display: none">
            <div class="right-title">大纲</div>
            <i class="iconfont icon-list" data-title="切换到文章列表"></i>
        </div>
    </div>

    <div class="tags-list">
    <input id="tag-search" />
    <div class="tag-wrapper">
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>插入排序</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>二分法</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>二进制</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>合并有序链表</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>科学上网</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>链表</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>冒泡排序</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>设计模式</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>双亲委派机制</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>算法</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>位运算</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>选择排序</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Docker</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Etcd</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>github</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>github pages</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Harbor</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>hexo</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>java</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>jenkins</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>juc</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>jvm</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>linux</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Loki</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>neo4j</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Pod</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Prometheus</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Python</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Rocky</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>sitemap</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>SpringBoot</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>typora</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>ubuntu18</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>UML</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Velero</a>
            </li>
        
    </div>

</div>

    
    <nav id="title-list-nav">
        
        
        <a  class="全部文章 k8s "
           href="/blog/7a3c8be2.html"
           data-tag="linux,Docker,Rocky,Etcd,Velero"
           data-author="" >
            <span class="post-title" title="024-K8S-Etcd的备份与恢复">024-K8S-Etcd的备份与恢复</span>
            <span class="post-date" title="2025-09-14 17:30:00">2025/09/14</span>
        </a>
        
        
        <a  class="全部文章 k8s "
           href="/blog/847bacfd.html"
           data-tag="linux,Docker,Rocky"
           data-author="" >
            <span class="post-title" title="023-K8S-Cordon和Drain的使用">023-K8S-Cordon和Drain的使用</span>
            <span class="post-date" title="2025-09-12 20:11:00">2025/09/12</span>
        </a>
        
        
        <a  class="全部文章 Python PyCharm "
           href="/blog/2cd8097a.html"
           data-tag="Python"
           data-author="" >
            <span class="post-title" title="003-PyCharm下载和安装">003-PyCharm下载和安装</span>
            <span class="post-date" title="2025-09-10 12:17:00">2025/09/10</span>
        </a>
        
        
        <a  class="全部文章 k8s "
           href="/blog/6617f273.html"
           data-tag="linux,Docker,Rocky"
           data-author="" >
            <span class="post-title" title="022-K8S-资源限制">022-K8S-资源限制</span>
            <span class="post-date" title="2025-09-09 21:03:00">2025/09/09</span>
        </a>
        
        
        <a  class="全部文章 Python "
           href="/blog/7591dd09.html"
           data-tag="Python"
           data-author="" >
            <span class="post-title" title="002-安装Python开发环境">002-安装Python开发环境</span>
            <span class="post-date" title="2025-09-08 20:22:00">2025/09/08</span>
        </a>
        
        
        <a  class="全部文章 Python "
           href="/blog/95026633.html"
           data-tag="Python"
           data-author="" >
            <span class="post-title" title="001-Python语言概述">001-Python语言概述</span>
            <span class="post-date" title="2025-09-07 10:44:00">2025/09/07</span>
        </a>
        
        
        <a  class="全部文章 k8s "
           href="/blog/e2c03adc.html"
           data-tag="linux,Docker,Rocky"
           data-author="" >
            <span class="post-title" title="021-K8S-安全参数">021-K8S-安全参数</span>
            <span class="post-date" title="2025-08-23 14:43:00">2025/08/23</span>
        </a>
        
        
        <a  class="全部文章 k8s "
           href="/blog/88f4f580.html"
           data-tag="linux,Docker,Rocky"
           data-author="" >
            <span class="post-title" title="020-K8S-审计">020-K8S-审计</span>
            <span class="post-date" title="2025-08-10 14:43:00">2025/08/10</span>
        </a>
        
        
        <a  class="全部文章 k8s "
           href="/blog/9bea6e2e.html"
           data-tag="linux,Docker,Rocky"
           data-author="" >
            <span class="post-title" title="019-K8S-kubectl端口转发">019-K8S-kubectl端口转发</span>
            <span class="post-date" title="2025-08-04 23:02:00">2025/08/04</span>
        </a>
        
        
        <a  class="全部文章 k8s "
           href="/blog/af9812e0.html"
           data-tag="linux,Docker,Rocky"
           data-author="" >
            <span class="post-title" title="018-K8S-临时容器">018-K8S-临时容器</span>
            <span class="post-date" title="2025-08-03 22:01:00">2025/08/03</span>
        </a>
        
        
        <a  class="全部文章 k8s "
           href="/blog/99657768.html"
           data-tag="linux,Docker,Rocky,Pod"
           data-author="" >
            <span class="post-title" title="017-K8S-网络策略NetworkPolicy">017-K8S-网络策略NetworkPolicy</span>
            <span class="post-date" title="2025-07-28 21:33:00">2025/07/28</span>
        </a>
        
        
        <a  class="全部文章 k8s "
           href="/blog/c9536d9e.html"
           data-tag="linux,Docker,Rocky,Pod"
           data-author="" >
            <span class="post-title" title="016-K8S-固定Pod IP地址，基于Calico插件">016-K8S-固定Pod IP地址，基于Calico插件</span>
            <span class="post-date" title="2025-07-26 13:35:00">2025/07/26</span>
        </a>
        
        
        <a  class="全部文章 k8s "
           href="/blog/e62b8338.html"
           data-tag="linux,Docker,Rocky,Prometheus"
           data-author="" >
            <span class="post-title" title="015-K8S-Prometheus部署及监控告警">015-K8S-Prometheus部署及监控告警</span>
            <span class="post-date" title="2025-07-19 16:39:00">2025/07/19</span>
        </a>
        
        
        <a  class="全部文章 k8s "
           href="/blog/f8cf646f.html"
           data-tag="linux,Docker,Rocky,Loki"
           data-author="" >
            <span class="post-title" title="014-K8S-部署Loki+Promtail+Grafana实现日志监控">014-K8S-部署Loki+Promtail+Grafana实现日志监控</span>
            <span class="post-date" title="2025-07-10 21:00:00">2025/07/10</span>
        </a>
        
        
        <a  class="全部文章 k8s "
           href="/blog/3fee6d19.html"
           data-tag="linux,Docker,Rocky,Harbor"
           data-author="" >
            <span class="post-title" title="013-K8S-使用Helm安装Harbor">013-K8S-使用Helm安装Harbor</span>
            <span class="post-date" title="2025-07-07 22:37:00">2025/07/07</span>
        </a>
        
        
        <a  class="全部文章 k8s "
           href="/blog/b42f2c7b.html"
           data-tag="linux,Docker,Rocky"
           data-author="" >
            <span class="post-title" title="012-新建Node节点添加到K8S集群中">012-新建Node节点添加到K8S集群中</span>
            <span class="post-date" title="2025-07-07 20:32:00">2025/07/07</span>
        </a>
        
        
        <a  class="全部文章 k8s "
           href="/blog/6436eaf1.html"
           data-tag="linux,Docker,Rocky"
           data-author="" >
            <span class="post-title" title="011-Kubernetes Ingress-Nginx">011-Kubernetes Ingress-Nginx</span>
            <span class="post-date" title="2025-06-25 19:42:00">2025/06/25</span>
        </a>
        
        
        <a  class="全部文章 k8s "
           href="/blog/d8e3c7b3.html"
           data-tag="linux,Docker,Rocky"
           data-author="" >
            <span class="post-title" title="010-Kubernetes Helm">010-Kubernetes Helm</span>
            <span class="post-date" title="2025-06-21 14:12:00">2025/06/21</span>
        </a>
        
        
        <a  class="全部文章 k8s "
           href="/blog/424f1119.html"
           data-tag="linux,Docker,Rocky"
           data-author="" >
            <span class="post-title" title="009-Kubernetes 集群安全机制">009-Kubernetes 集群安全机制</span>
            <span class="post-date" title="2025-06-14 09:18:00">2025/06/14</span>
        </a>
        
        
        <a  class="全部文章 k8s "
           href="/blog/f2285a2d.html"
           data-tag="linux,Docker,Rocky"
           data-author="" >
            <span class="post-title" title="008-Kubernetes 调度器">008-Kubernetes 调度器</span>
            <span class="post-date" title="2025-06-02 14:40:00">2025/06/02</span>
        </a>
        
        
        <a  class="全部文章 k8s "
           href="/blog/ef156b88.html"
           data-tag="linux,Docker,Rocky"
           data-author="" >
            <span class="post-title" title="007-Kubernetes 存储">007-Kubernetes 存储</span>
            <span class="post-date" title="2025-05-02 10:26:00">2025/05/02</span>
        </a>
        
        
        <a  class="全部文章 k8s "
           href="/blog/970719d6.html"
           data-tag="linux,Docker,Rocky"
           data-author="" >
            <span class="post-title" title="006-Kubernetes Service">006-Kubernetes Service</span>
            <span class="post-date" title="2025-04-28 22:10:00">2025/04/28</span>
        </a>
        
        
        <a  class="全部文章 k8s "
           href="/blog/c790096a.html"
           data-tag="linux,Docker,Rocky"
           data-author="" >
            <span class="post-title" title="005-Kubernetes控制器">005-Kubernetes控制器</span>
            <span class="post-date" title="2025-04-02 20:12:00">2025/04/02</span>
        </a>
        
        
        <a  class="全部文章 k8s "
           href="/blog/79e06aab.html"
           data-tag="linux,Docker,Rocky"
           data-author="" >
            <span class="post-title" title="004-Pod的生命周期">004-Pod的生命周期</span>
            <span class="post-date" title="2025-03-22 09:05:00">2025/03/22</span>
        </a>
        
        
        <a  class="全部文章 Docker "
           href="/blog/b01d5c62.html"
           data-tag="linux,Docker,科学上网"
           data-author="" >
            <span class="post-title" title="Docker配置网络代理实现外网镜像下载">Docker配置网络代理实现外网镜像下载</span>
            <span class="post-date" title="2025-01-08 23:00:00">2025/01/08</span>
        </a>
        
        
        <a  class="全部文章 linux "
           href="/blog/7f174b3e.html"
           data-tag="linux,科学上网,Rocky"
           data-author="" >
            <span class="post-title" title="Rocky9安装Shadowsocks实现科学上网">Rocky9安装Shadowsocks实现科学上网</span>
            <span class="post-date" title="2025-01-08 21:09:00">2025/01/08</span>
        </a>
        
        
        <a  class="全部文章 k8s "
           href="/blog/b00f53e9.html"
           data-tag="linux,Docker,Rocky"
           data-author="" >
            <span class="post-title" title="003-基于Rocky9.3系统使用kubeadm安装k8s1.29集群">003-基于Rocky9.3系统使用kubeadm安装k8s1.29集群</span>
            <span class="post-date" title="2025-01-03 22:05:00">2025/01/03</span>
        </a>
        
        
        <a  class="全部文章 k8s "
           href="/blog/3c79d8d9.html"
           data-tag="linux,Docker,Rocky"
           data-author="" >
            <span class="post-title" title="002-Rocky9.3系统初始化设置和Docker安装">002-Rocky9.3系统初始化设置和Docker安装</span>
            <span class="post-date" title="2025-01-02 13:25:00">2025/01/02</span>
        </a>
        
        
        <a  class="全部文章 k8s "
           href="/blog/7e3a5200.html"
           data-tag="linux,Rocky"
           data-author="" >
            <span class="post-title" title="001-ESXi8安装Rocky9.3虚拟机">001-ESXi8安装Rocky9.3虚拟机</span>
            <span class="post-date" title="2025-01-02 09:34:00">2025/01/02</span>
        </a>
        
        
        <a  class="全部文章 设计模式 "
           href="/blog/77d85f50.html"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="25-责任链模式">25-责任链模式</span>
            <span class="post-date" title="2024-12-03 21:08:00">2024/12/03</span>
        </a>
        
        
        <a  class="全部文章 设计模式 "
           href="/blog/fcec839d.html"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="24-策略模式">24-策略模式</span>
            <span class="post-date" title="2024-12-02 18:16:00">2024/12/02</span>
        </a>
        
        
        <a  class="全部文章 设计模式 "
           href="/blog/6109865a.html"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="23-状态模式">23-状态模式</span>
            <span class="post-date" title="2024-11-29 19:30:00">2024/11/29</span>
        </a>
        
        
        <a  class="全部文章 设计模式 "
           href="/blog/58d4db7.html"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="22-解释器模式">22-解释器模式</span>
            <span class="post-date" title="2024-11-28 22:00:00">2024/11/28</span>
        </a>
        
        
        <a  class="全部文章 设计模式 "
           href="/blog/a5cf7eb4.html"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="21-备忘录模式">21-备忘录模式</span>
            <span class="post-date" title="2024-11-27 21:40:00">2024/11/27</span>
        </a>
        
        
        <a  class="全部文章 设计模式 "
           href="/blog/3148d6be.html"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="20-中介者模式">20-中介者模式</span>
            <span class="post-date" title="2024-11-26 20:35:00">2024/11/26</span>
        </a>
        
        
        <a  class="全部文章 设计模式 "
           href="/blog/f06aea0b.html"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="19-观察者模式">19-观察者模式</span>
            <span class="post-date" title="2024-11-25 21:07:00">2024/11/25</span>
        </a>
        
        
        <a  class="全部文章 设计模式 "
           href="/blog/7dbd9149.html"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="18-迭代器模式">18-迭代器模式</span>
            <span class="post-date" title="2024-11-24 00:02:00">2024/11/24</span>
        </a>
        
        
        <a  class="全部文章 设计模式 "
           href="/blog/4fdf6e52.html"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="17-访问者模式">17-访问者模式</span>
            <span class="post-date" title="2024-11-23 21:55:00">2024/11/23</span>
        </a>
        
        
        <a  class="全部文章 设计模式 "
           href="/blog/60fd53f.html"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="16-命令模式">16-命令模式</span>
            <span class="post-date" title="2024-11-23 20:30:00">2024/11/23</span>
        </a>
        
        
        <a  class="全部文章 设计模式 "
           href="/blog/4930323d.html"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="15-模板方法模式">15-模板方法模式</span>
            <span class="post-date" title="2024-11-23 19:40:00">2024/11/23</span>
        </a>
        
        
        <a  class="全部文章 设计模式 "
           href="/blog/e4235185.html"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="14-代理模式">14-代理模式</span>
            <span class="post-date" title="2024-11-21 23:16:00">2024/11/21</span>
        </a>
        
        
        <a  class="全部文章 设计模式 "
           href="/blog/1b225c1f.html"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="13-享元模式">13-享元模式</span>
            <span class="post-date" title="2024-11-20 23:10:00">2024/11/20</span>
        </a>
        
        
        <a  class="全部文章 设计模式 "
           href="/blog/906e9e8b.html"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="12-外观模式">12-外观模式</span>
            <span class="post-date" title="2024-11-20 22:09:00">2024/11/20</span>
        </a>
        
        
        <a  class="全部文章 设计模式 "
           href="/blog/c456a66a.html"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="11-组合模式">11-组合模式</span>
            <span class="post-date" title="2024-11-16 17:00:00">2024/11/16</span>
        </a>
        
        
        <a  class="全部文章 设计模式 "
           href="/blog/90213fc6.html"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="10-装饰器模式">10-装饰器模式</span>
            <span class="post-date" title="2024-11-16 14:06:00">2024/11/16</span>
        </a>
        
        
        <a  class="全部文章 设计模式 "
           href="/blog/c7419cfa.html"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="09-桥接模式">09-桥接模式</span>
            <span class="post-date" title="2024-11-14 20:51:00">2024/11/14</span>
        </a>
        
        
        <a  class="全部文章 设计模式 "
           href="/blog/f77fc055.html"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="08-适配器模式">08-适配器模式</span>
            <span class="post-date" title="2024-11-12 22:55:00">2024/11/12</span>
        </a>
        
        
        <a  class="全部文章 neo4j "
           href="/blog/a3b0b090.html"
           data-tag="neo4j,SpringBoot"
           data-author="" >
            <span class="post-title" title="Spring Boot对Neo4j节点关系的增删改查">Spring Boot对Neo4j节点关系的增删改查</span>
            <span class="post-date" title="2024-11-12 21:00:30">2024/11/12</span>
        </a>
        
        
        <a  class="全部文章 设计模式 "
           href="/blog/3ab9aa56.html"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="07-建造者模式">07-建造者模式</span>
            <span class="post-date" title="2024-11-11 21:55:00">2024/11/11</span>
        </a>
        
        
        <a  class="全部文章 neo4j "
           href="/blog/7dc0fcde.html"
           data-tag="neo4j,SpringBoot"
           data-author="" >
            <span class="post-title" title="Spring Boot整合Neo4j实现增删改查">Spring Boot整合Neo4j实现增删改查</span>
            <span class="post-date" title="2024-11-07 19:04:30">2024/11/07</span>
        </a>
        
        
        <a  class="全部文章 设计模式 "
           href="/blog/564adc33.html"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="06-原型模式">06-原型模式</span>
            <span class="post-date" title="2024-11-06 19:00:00">2024/11/06</span>
        </a>
        
        
        <a  class="全部文章 设计模式 "
           href="/blog/effeea78.html"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="05-工厂模式">05-工厂模式</span>
            <span class="post-date" title="2024-11-04 21:00:00">2024/11/04</span>
        </a>
        
        
        <a  class="全部文章 设计模式 "
           href="/blog/d7e99843.html"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="04-单例模式">04-单例模式</span>
            <span class="post-date" title="2024-11-04 19:00:00">2024/11/04</span>
        </a>
        
        
        <a  class="全部文章 设计模式 "
           href="/blog/90f1850a.html"
           data-tag="设计模式,UML"
           data-author="" >
            <span class="post-title" title="03-UML类图">03-UML类图</span>
            <span class="post-date" title="2024-11-02 14:57:00">2024/11/02</span>
        </a>
        
        
        <a  class="全部文章 UML "
           href="/blog/c13304c1.html"
           data-tag="设计模式,UML"
           data-author="" >
            <span class="post-title" title="02-UML图绘制工具">02-UML图绘制工具</span>
            <span class="post-date" title="2024-11-02 09:57:00">2024/11/02</span>
        </a>
        
        
        <a  class="全部文章 linux "
           href="/blog/2e826df1.html"
           data-tag="linux,ubuntu18"
           data-author="" >
            <span class="post-title" title="Docker环境下RTSP流转RTMP和HLS">Docker环境下RTSP流转RTMP和HLS</span>
            <span class="post-date" title="2024-11-01 15:17:33">2024/11/01</span>
        </a>
        
        
        <a  class="全部文章 设计模式 "
           href="/blog/cd625bba.html"
           data-tag="设计模式,java"
           data-author="" >
            <span class="post-title" title="01-设计模式六大原则">01-设计模式六大原则</span>
            <span class="post-date" title="2024-10-31 17:00:00">2024/10/31</span>
        </a>
        
        
        <a  class="全部文章 JUC "
           href="/blog/1a649f4c.html"
           data-tag="java,juc"
           data-author="" >
            <span class="post-title" title="13-JUC进阶-ReentrantReadWriteLock与StampedLock">13-JUC进阶-ReentrantReadWriteLock与StampedLock</span>
            <span class="post-date" title="2024-10-19 09:26:00">2024/10/19</span>
        </a>
        
        
        <a  class="全部文章 neo4j "
           href="/blog/5c93903a.html"
           data-tag="linux,neo4j"
           data-author="" >
            <span class="post-title" title="Docker部署Neo4j并导入CSV数据">Docker部署Neo4j并导入CSV数据</span>
            <span class="post-date" title="2024-10-17 15:00:30">2024/10/17</span>
        </a>
        
        
        <a  class="全部文章 linux "
           href="/blog/ad38e6b1.html"
           data-tag="linux,ubuntu18"
           data-author="" >
            <span class="post-title" title="Ubuntu18.04离线源环境搭建">Ubuntu18.04离线源环境搭建</span>
            <span class="post-date" title="2024-10-17 09:47:33">2024/10/17</span>
        </a>
        
        
        <a  class="全部文章 JUC "
           href="/blog/3fdbf0f6.html"
           data-tag="java,juc"
           data-author="" >
            <span class="post-title" title="12-JUC进阶-从ReentrantLock到AQS源码详解">12-JUC进阶-从ReentrantLock到AQS源码详解</span>
            <span class="post-date" title="2024-10-15 19:42:07">2024/10/15</span>
        </a>
        
        
        <a  class="全部文章 JUC "
           href="/blog/3e0d7592.html"
           data-tag="java,juc"
           data-author="" >
            <span class="post-title" title="11-JUC进阶-Synchronized与锁升级">11-JUC进阶-Synchronized与锁升级</span>
            <span class="post-date" title="2024-10-06 09:28:00">2024/10/06</span>
        </a>
        
        
        <a  class="全部文章 JUC "
           href="/blog/4502cffa.html"
           data-tag="java,juc"
           data-author="" >
            <span class="post-title" title="10-JUC进阶-Java对象内存布局和对象头">10-JUC进阶-Java对象内存布局和对象头</span>
            <span class="post-date" title="2024-10-04 09:54:40">2024/10/04</span>
        </a>
        
        
        <a  class="全部文章 JUC "
           href="/blog/4de6a39b.html"
           data-tag="java,juc"
           data-author="" >
            <span class="post-title" title="09-JUC进阶-ThreadLocal">09-JUC进阶-ThreadLocal</span>
            <span class="post-date" title="2024-10-01 20:39:10">2024/10/01</span>
        </a>
        
        
        <a  class="全部文章 JUC "
           href="/blog/72329cf5.html"
           data-tag="java,juc"
           data-author="" >
            <span class="post-title" title="08-JUC进阶-常用的原子操作类(18个)">08-JUC进阶-常用的原子操作类(18个)</span>
            <span class="post-date" title="2024-09-28 13:37:09">2024/09/28</span>
        </a>
        
        
        <a  class="全部文章 JUC "
           href="/blog/5e3757c1.html"
           data-tag="java,juc"
           data-author="" >
            <span class="post-title" title="07-JUC进阶-CAS">07-JUC进阶-CAS</span>
            <span class="post-date" title="2024-09-26 19:37:00">2024/09/26</span>
        </a>
        
        
        <a  class="全部文章 JUC "
           href="/blog/546d628d.html"
           data-tag="java,juc"
           data-author="" >
            <span class="post-title" title="06-JUC进阶-Volatile与Java内存模型">06-JUC进阶-Volatile与Java内存模型</span>
            <span class="post-date" title="2024-09-25 19:01:01">2024/09/25</span>
        </a>
        
        
        <a  class="全部文章 JUC "
           href="/blog/1f2e0014.html"
           data-tag="java,juc"
           data-author="" >
            <span class="post-title" title="05-JUC进阶-Java内存模型-JMM">05-JUC进阶-Java内存模型-JMM</span>
            <span class="post-date" title="2024-09-23 23:01:07">2024/09/23</span>
        </a>
        
        
        <a  class="全部文章 JUC "
           href="/blog/19653fb9.html"
           data-tag="java,juc"
           data-author="" >
            <span class="post-title" title="04-JUC进阶-LockSupport与线程中断">04-JUC进阶-LockSupport与线程中断</span>
            <span class="post-date" title="2024-09-23 20:51:50">2024/09/23</span>
        </a>
        
        
        <a  class="全部文章 JUC "
           href="/blog/219e52ea.html"
           data-tag="java,juc"
           data-author="" >
            <span class="post-title" title="03-JUC进阶-Java中的锁的解析">03-JUC进阶-Java中的锁的解析</span>
            <span class="post-date" title="2024-09-21 14:15:20">2024/09/21</span>
        </a>
        
        
        <a  class="全部文章 JUC "
           href="/blog/7e2d78eb.html"
           data-tag="java,juc"
           data-author="" >
            <span class="post-title" title="02-JUC进阶-CompletableFuture">02-JUC进阶-CompletableFuture</span>
            <span class="post-date" title="2024-09-18 22:50:00">2024/09/18</span>
        </a>
        
        
        <a  class="全部文章 JUC "
           href="/blog/3d102971.html"
           data-tag="java,juc"
           data-author="" >
            <span class="post-title" title="01-JUC进阶-线程基础">01-JUC进阶-线程基础</span>
            <span class="post-date" title="2024-09-18 22:32:00">2024/09/18</span>
        </a>
        
        
        <a  class="全部文章 JUC "
           href="/blog/37d56d14.html"
           data-tag="java,juc"
           data-author="" >
            <span class="post-title" title="11-CompletableFuture">11-CompletableFuture</span>
            <span class="post-date" title="2024-09-16 16:12:00">2024/09/16</span>
        </a>
        
        
        <a  class="全部文章 JUC "
           href="/blog/31919959.html"
           data-tag="java,juc"
           data-author="" >
            <span class="post-title" title="10-Fork/Join">10-Fork/Join</span>
            <span class="post-date" title="2024-09-16 13:10:00">2024/09/16</span>
        </a>
        
        
        <a  class="全部文章 JUC "
           href="/blog/a0197c15.html"
           data-tag="java,juc"
           data-author="" >
            <span class="post-title" title="09-ThreadPool-线程池">09-ThreadPool-线程池</span>
            <span class="post-date" title="2024-09-13 20:10:08">2024/09/13</span>
        </a>
        
        
        <a  class="全部文章 JUC "
           href="/blog/a6760d1f.html"
           data-tag="java,juc"
           data-author="" >
            <span class="post-title" title="08-阻塞队列BlockingQueue">08-阻塞队列BlockingQueue</span>
            <span class="post-date" title="2024-09-07 17:30:00">2024/09/07</span>
        </a>
        
        
        <a  class="全部文章 JUC "
           href="/blog/838e7581.html"
           data-tag="java,juc"
           data-author="" >
            <span class="post-title" title="07-JUC辅助类CountDownLatch、CyclicBarrier、Semaphore">07-JUC辅助类CountDownLatch、CyclicBarrier、Semaphore</span>
            <span class="post-date" title="2024-09-07 13:00:00">2024/09/07</span>
        </a>
        
        
        <a  class="全部文章 JUC "
           href="/blog/f60e37c5.html"
           data-tag="java,juc"
           data-author="" >
            <span class="post-title" title="06-Callable &amp; Future 接口">06-Callable &amp; Future 接口</span>
            <span class="post-date" title="2024-09-06 22:10:00">2024/09/06</span>
        </a>
        
        
        <a  class="全部文章 JUC "
           href="/blog/f184587f.html"
           data-tag="java,juc"
           data-author="" >
            <span class="post-title" title="05-公平锁和非公平锁，死锁，可重入锁">05-公平锁和非公平锁，死锁，可重入锁</span>
            <span class="post-date" title="2024-09-05 20:12:00">2024/09/05</span>
        </a>
        
        
        <a  class="全部文章 JUC "
           href="/blog/9a09d992.html"
           data-tag="java,juc"
           data-author="" >
            <span class="post-title" title="04-集合的线程安全">04-集合的线程安全</span>
            <span class="post-date" title="2024-09-04 21:09:05">2024/09/04</span>
        </a>
        
        
        <a  class="全部文章 JUC "
           href="/blog/bd2134da.html"
           data-tag="java,juc"
           data-author="" >
            <span class="post-title" title="03-线程间通信">03-线程间通信</span>
            <span class="post-date" title="2024-09-04 20:06:00">2024/09/04</span>
        </a>
        
        
        <a  class="全部文章 JUC "
           href="/blog/850dac3c.html"
           data-tag="java,juc"
           data-author="" >
            <span class="post-title" title="02-Lock接口">02-Lock接口</span>
            <span class="post-date" title="2024-08-30 19:27:00">2024/08/30</span>
        </a>
        
        
        <a  class="全部文章 JUC "
           href="/blog/4e6bd685.html"
           data-tag="java,juc"
           data-author="" >
            <span class="post-title" title="01-多线程的基本概念">01-多线程的基本概念</span>
            <span class="post-date" title="2024-08-30 19:03:01">2024/08/30</span>
        </a>
        
        
        <a  class="全部文章 JVM "
           href="/blog/1b0522f4.html"
           data-tag="java,jvm"
           data-author="" >
            <span class="post-title" title="第二十五章-分析GC日志">第二十五章-分析GC日志</span>
            <span class="post-date" title="2024-08-28 21:36:08">2024/08/28</span>
        </a>
        
        
        <a  class="全部文章 JVM "
           href="/blog/944806143.html"
           data-tag="java,jvm"
           data-author="" >
            <span class="post-title" title="第二十四章-JVM运行时参数">第二十四章-JVM运行时参数</span>
            <span class="post-date" title="2024-08-27 18:30:10">2024/08/27</span>
        </a>
        
        
        <a  class="全部文章 JVM "
           href="/blog/490498600.html"
           data-tag="java,jvm"
           data-author="" >
            <span class="post-title" title="第二十三章-使用OQL语言查询对象信息">第二十三章-使用OQL语言查询对象信息</span>
            <span class="post-date" title="2024-08-24 15:02:10">2024/08/24</span>
        </a>
        
        
        <a  class="全部文章 JVM "
           href="/blog/1471620196.html"
           data-tag="java,jvm"
           data-author="" >
            <span class="post-title" title="第二十三章-浅堆-深堆-内存泄漏">第二十三章-浅堆-深堆-内存泄漏</span>
            <span class="post-date" title="2024-08-24 13:04:37">2024/08/24</span>
        </a>
        
        
        <a  class="全部文章 JVM "
           href="/blog/971417975.html"
           data-tag="java,jvm"
           data-author="" >
            <span class="post-title" title="第二十三章-JVM监控及诊断工具-GUI篇">第二十三章-JVM监控及诊断工具-GUI篇</span>
            <span class="post-date" title="2024-08-16 21:00:00">2024/08/16</span>
        </a>
        
        
        <a  class="全部文章 JVM "
           href="/blog/2165702380.html"
           data-tag="java,jvm"
           data-author="" >
            <span class="post-title" title="第二十二章-JVM监控及诊断工具-命令行篇">第二十二章-JVM监控及诊断工具-命令行篇</span>
            <span class="post-date" title="2024-08-12 19:36:32">2024/08/12</span>
        </a>
        
        
        <a  class="全部文章 JVM "
           href="/blog/2681163762.html"
           data-tag="java,jvm"
           data-author="" >
            <span class="post-title" title="第二十一章-性能监控与调优概述">第二十一章-性能监控与调优概述</span>
            <span class="post-date" title="2024-08-12 19:13:06">2024/08/12</span>
        </a>
        
        
        <a  class="全部文章 JVM "
           href="/blog/3537043756.html"
           data-tag="java,jvm"
           data-author="" >
            <span class="post-title" title="第二十章-再谈类的加载器">第二十章-再谈类的加载器</span>
            <span class="post-date" title="2024-08-10 13:43:10">2024/08/10</span>
        </a>
        
        
        <a  class="全部文章 JVM "
           href="/blog/3387211378.html"
           data-tag="java,jvm"
           data-author="" >
            <span class="post-title" title="第十九章-类的加载过程详解">第十九章-类的加载过程详解</span>
            <span class="post-date" title="2024-08-02 19:33:27">2024/08/02</span>
        </a>
        
        
        <a  class="全部文章 JVM "
           href="/blog/1107503247.html"
           data-tag="java,jvm"
           data-author="" >
            <span class="post-title" title="第十八章-字节码指令集与解析指令">第十八章-字节码指令集与解析指令</span>
            <span class="post-date" title="2024-08-01 01:40:02">2024/08/01</span>
        </a>
        
        
        <a  class="全部文章 JVM "
           href="/blog/2772873157.html"
           data-tag="java,jvm"
           data-author="" >
            <span class="post-title" title="第十七章-使用javap指令解析class文件">第十七章-使用javap指令解析class文件</span>
            <span class="post-date" title="2024-07-22 23:54:00">2024/07/22</span>
        </a>
        
        
        <a  class="全部文章 JVM "
           href="/blog/143162370.html"
           data-tag="java,jvm"
           data-author="" >
            <span class="post-title" title="第十六章-Class文件结构">第十六章-Class文件结构</span>
            <span class="post-date" title="2024-07-15 19:54:50">2024/07/15</span>
        </a>
        
        
        <a  class="全部文章 JVM "
           href="/blog/309245330.html"
           data-tag="java,jvm"
           data-author="" >
            <span class="post-title" title="第十五章-GC日志分析">第十五章-GC日志分析</span>
            <span class="post-date" title="2024-07-13 08:34:00">2024/07/13</span>
        </a>
        
        
        <a  class="全部文章 JVM "
           href="/blog/1750792302.html"
           data-tag="java,jvm"
           data-author="" >
            <span class="post-title" title="第十四章-垃圾收集器">第十四章-垃圾收集器</span>
            <span class="post-date" title="2024-07-10 19:27:00">2024/07/10</span>
        </a>
        
        
        <a  class="全部文章 算法 "
           href="/blog/484946532.html"
           data-tag="算法,合并有序链表"
           data-author="" >
            <span class="post-title" title="合并两个有序链表">合并两个有序链表</span>
            <span class="post-date" title="2024-07-06 09:11:00">2024/07/06</span>
        </a>
        
        
        <a  class="全部文章 算法 "
           href="/blog/2929260443.html"
           data-tag="算法,链表"
           data-author="" >
            <span class="post-title" title="链表反转">链表反转</span>
            <span class="post-date" title="2024-07-05 19:45:45">2024/07/05</span>
        </a>
        
        
        <a  class="全部文章 算法 "
           href="/blog/1403776474.html"
           data-tag="算法,选择排序,冒泡排序,插入排序"
           data-author="" >
            <span class="post-title" title="选择-冒泡-插入排序">选择-冒泡-插入排序</span>
            <span class="post-date" title="2024-07-03 11:02:16">2024/07/03</span>
        </a>
        
        
        <a  class="全部文章 算法 "
           href="/blog/2561891005.html"
           data-tag="算法,二分法"
           data-author="" >
            <span class="post-title" title="二分搜索">二分搜索</span>
            <span class="post-date" title="2024-06-29 10:04:10">2024/06/29</span>
        </a>
        
        
        <a  class="全部文章 算法 "
           href="/blog/2224151177.html"
           data-tag="算法,二进制,位运算"
           data-author="" >
            <span class="post-title" title="二进制和位运算">二进制和位运算</span>
            <span class="post-date" title="2024-06-20 08:04:00">2024/06/20</span>
        </a>
        
        
        <a  class="全部文章 JVM "
           href="/blog/2105268063.html"
           data-tag="java,jvm"
           data-author="" >
            <span class="post-title" title="第十三章-垃圾回收相关概念">第十三章-垃圾回收相关概念</span>
            <span class="post-date" title="2024-01-14 14:27:00">2024/01/14</span>
        </a>
        
        
        <a  class="全部文章 JVM "
           href="/blog/364508352.html"
           data-tag="java,jvm"
           data-author="" >
            <span class="post-title" title="第十二章-垃圾回收概述和相关算法">第十二章-垃圾回收概述和相关算法</span>
            <span class="post-date" title="2024-01-06 16:28:00">2024/01/06</span>
        </a>
        
        
        <a  class="全部文章 linux "
           href="/blog/2050535563.html"
           data-tag="linux,jenkins"
           data-author="" >
            <span class="post-title" title="Jenkins的安装和搭建自动化部署平台">Jenkins的安装和搭建自动化部署平台</span>
            <span class="post-date" title="2024-01-05 16:00:00">2024/01/05</span>
        </a>
        
        
        <a  class="全部文章 JVM "
           href="/blog/2388209687.html"
           data-tag="java,jvm"
           data-author="" >
            <span class="post-title" title="第十一章-StringTable(字符串常量池)">第十一章-StringTable(字符串常量池)</span>
            <span class="post-date" title="2023-12-25 17:27:06">2023/12/25</span>
        </a>
        
        
        <a  class="全部文章 JVM "
           href="/blog/3385856233.html"
           data-tag="java,jvm"
           data-author="" >
            <span class="post-title" title="第十章-执行引擎">第十章-执行引擎</span>
            <span class="post-date" title="2023-12-23 20:03:00">2023/12/23</span>
        </a>
        
        
        <a  class="全部文章 JVM "
           href="/blog/4075763684.html"
           data-tag="java,jvm"
           data-author="" >
            <span class="post-title" title="第九章-对象的实例化内存布局与访问定位">第九章-对象的实例化内存布局与访问定位</span>
            <span class="post-date" title="2023-12-21 11:50:00">2023/12/21</span>
        </a>
        
        
        <a  class="全部文章 JVM "
           href="/blog/3720767522.html"
           data-tag="java,jvm"
           data-author="" >
            <span class="post-title" title="第八章-直接内存">第八章-直接内存</span>
            <span class="post-date" title="2023-12-20 17:03:00">2023/12/20</span>
        </a>
        
        
        <a  class="全部文章 JVM "
           href="/blog/105864584.html"
           data-tag="java,jvm"
           data-author="" >
            <span class="post-title" title="第七章-方法区">第七章-方法区</span>
            <span class="post-date" title="2023-12-14 18:24:00">2023/12/14</span>
        </a>
        
        
        <a  class="全部文章 JVM "
           href="/blog/543408063.html"
           data-tag="java,jvm"
           data-author="" >
            <span class="post-title" title="第六章-JVM堆">第六章-JVM堆</span>
            <span class="post-date" title="2023-12-02 08:01:00">2023/12/02</span>
        </a>
        
        
        <a  class="全部文章 JVM "
           href="/blog/554039338.html"
           data-tag="java,jvm"
           data-author="" >
            <span class="post-title" title="第五章-本地方法接口">第五章-本地方法接口</span>
            <span class="post-date" title="2023-11-30 17:55:00">2023/11/30</span>
        </a>
        
        
        <a  class="全部文章 JVM "
           href="/blog/1123461525.html"
           data-tag="java,jvm"
           data-author="" >
            <span class="post-title" title="第四章-虚拟机栈">第四章-虚拟机栈</span>
            <span class="post-date" title="2023-11-28 20:55:00">2023/11/28</span>
        </a>
        
        
        <a  class="全部文章 JVM "
           href="/blog/1626061462.html"
           data-tag="java,jvm"
           data-author="" >
            <span class="post-title" title="第三章-运行时数据区">第三章-运行时数据区</span>
            <span class="post-date" title="2023-11-28 19:31:00">2023/11/28</span>
        </a>
        
        
        <a  class="全部文章 JVM "
           href="/blog/222077543.html"
           data-tag="java,jvm,双亲委派机制"
           data-author="" >
            <span class="post-title" title="第二章-JVM类加载子系统">第二章-JVM类加载子系统</span>
            <span class="post-date" title="2023-11-25 14:35:00">2023/11/25</span>
        </a>
        
        
        <a  class="全部文章 JVM "
           href="/blog/1897413233.html"
           data-tag="java,jvm"
           data-author="" >
            <span class="post-title" title="第一章-JVM和Java体系结构">第一章-JVM和Java体系结构</span>
            <span class="post-date" title="2023-11-25 10:00:00">2023/11/25</span>
        </a>
        
        
        <a  class="全部文章 Hexo "
           href="/blog/4179015178.html"
           data-tag="hexo,github pages,sitemap"
           data-author="" >
            <span class="post-title" title="给博客网站添加站点地图-sitemap">给博客网站添加站点地图-sitemap</span>
            <span class="post-date" title="2023-11-21 20:00:00">2023/11/21</span>
        </a>
        
        
        <a  class="全部文章 Hexo Typora "
           href="/blog/877664098.html"
           data-tag="hexo,typora,github"
           data-author="" >
            <span class="post-title" title="Typora设置图片自动上传Github">Typora设置图片自动上传Github</span>
            <span class="post-date" title="2023-11-20 20:30:00">2023/11/20</span>
        </a>
        
        
        <a  class="全部文章 Hexo "
           href="/blog/2016918085.html"
           data-tag="hexo,github pages"
           data-author="" >
            <span class="post-title" title="Hexo博客安装主题">Hexo博客安装主题</span>
            <span class="post-date" title="2023-11-20 00:00:01">2023/11/20</span>
        </a>
        
        
        <a  class="全部文章 Hexo "
           href="/blog/3069199997.html"
           data-tag="hexo,github pages"
           data-author="" >
            <span class="post-title" title="Hexo主题常用配置">Hexo主题常用配置</span>
            <span class="post-date" title="2023-11-20 00:00:01">2023/11/20</span>
        </a>
        
        
        <a  class="全部文章 Hexo "
           href="/blog/3070587776.html"
           data-tag="hexo,github pages"
           data-author="" >
            <span class="post-title" title="基于Hexo和Github Pages搭建个人博客">基于Hexo和Github Pages搭建个人博客</span>
            <span class="post-date" title="2023-11-18 15:40:20">2023/11/18</span>
        </a>
        
        <div id="no-item-tips">

        </div>
    </nav>
    <div id="outline-list">
    </div>
</div>

    </div>
    <div class="hide-list">
        <div class="semicircle" data-title="切换全屏 快捷键 s">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div id="post">
    <div class="pjax">
        <article id="post-k8s/010-K8S-Helm" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">010-Kubernetes Helm</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            <i class="iconfont icon-category"></i>
            
            
            <a  data-rel="k8s">k8s</a>
            
        </span>
        
        
        <span class="tag">
            <i class="iconfont icon-tag"></i>
            
            <a class="color1">linux</a>
            
            <a class="color2">Docker</a>
            
            <a class="color1">Rocky</a>
            
        </span>
        
    </div>
    <div class="article-meta">
        
            发布时间 : <time class="date" title='最后更新: 2025-06-25 13:29:37'>2025-06-21 14:12</time>
        
    </div>
    <div class="article-meta">
        
        <span>字数:6.7k</span>
        
        
        <span id="busuanzi_container_page_pv">
            阅读 :<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
        <span class="top-comment" title="跳转至评论区">
            <a href="#comments">
                评论:<span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </a>
        </span>
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%BC%95%E8%A8%80"><span class="toc-text">一、引言</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8C%E3%80%81Helm-V2-%E4%B8%8E-V3-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">二、Helm V2 与 V3 的区别</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%89%E3%80%81Helm%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B"><span class="toc-text">三、Helm工作流程</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%9B%E3%80%81Helm%E6%A6%82%E5%BF%B5"><span class="toc-text">四、Helm概念</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%94%E3%80%81Helm%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">五、Helm的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%AE%89%E8%A3%85Helm"><span class="toc-text">1. 安装Helm</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E7%94%A8%E4%BA%8C%E8%BF%9B%E5%88%B6%E7%89%88%E6%9C%AC%E5%AE%89%E8%A3%85"><span class="toc-text">1.1 用二进制版本安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E4%BD%BF%E7%94%A8%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%85"><span class="toc-text">1.2 使用脚本安装</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-Helm-%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-text">2. Helm 初始化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-Helm-%E4%BB%93%E5%BA%93%E7%AE%A1%E7%90%86"><span class="toc-text">3. Helm 仓库管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E6%B7%BB%E5%8A%A0%E4%BB%93%E5%BA%93"><span class="toc-text">3.1 添加仓库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E6%9F%A5%E7%9C%8B%E4%BB%93%E5%BA%93"><span class="toc-text">3.2 查看仓库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E6%9B%B4%E6%96%B0%E4%BB%93%E5%BA%93%E7%B4%A2%E5%BC%95"><span class="toc-text">3.3 更新仓库索引</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E5%88%A0%E9%99%A4%E4%BB%93%E5%BA%93"><span class="toc-text">3.4 删除仓库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E5%9C%A8%E4%BB%93%E5%BA%93%E4%B8%AD%E6%90%9C%E7%B4%A2-Chart-%E5%BA%94%E7%94%A8"><span class="toc-text">3.5 在仓库中搜索 Chart 应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-%E6%9F%A5%E7%9C%8B%E6%8C%87%E5%AE%9A%E4%BB%93%E5%BA%93%E4%B8%ADChart%E7%9A%84%E7%89%88%E6%9C%AC"><span class="toc-text">3.6  查看指定仓库中Chart的版本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-7-%E6%8B%89%E5%8F%96%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E7%9A%84-Chart"><span class="toc-text">3.7 拉取远程仓库的 Chart</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E5%AE%89%E8%A3%85-chart-%E7%A4%BA%E4%BE%8B"><span class="toc-text">4. 安装 chart 示例</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-%E5%9C%A8%E7%BA%BF%E5%AE%89%E8%A3%85"><span class="toc-text">4.1 在线安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85"><span class="toc-text">4.2 离线安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-Chart-%E5%AE%89%E8%A3%85%E8%B5%84%E6%BA%90%E9%A1%BA%E5%BA%8F"><span class="toc-text">4.3 Chart 安装资源顺序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-%E5%AE%89%E8%A3%85%E8%BF%87%E7%A8%8B%E4%B8%AD%E6%9C%89%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F%E4%BC%A0%E9%80%92%E9%85%8D%E7%BD%AE%E6%95%B0%E6%8D%AE"><span class="toc-text">4.4 安装过程中有两种方式传递配置数据</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-4-1-set-%E7%9A%84%E6%A0%BC%E5%BC%8F%E5%92%8C%E9%99%90%E5%88%B6"><span class="toc-text">4.4.1 --set 的格式和限制</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-5-%E5%AE%89%E8%A3%85%E3%80%81%E5%8D%87%E7%BA%A7%E3%80%81%E5%9B%9E%E6%BB%9A%E6%97%B6%E7%9A%84%E6%9C%89%E7%94%A8%E9%80%89%E9%A1%B9"><span class="toc-text">4.5 安装、升级、回滚时的有用选项</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E5%8D%B8%E8%BD%BDChart%E5%BA%94%E7%94%A8"><span class="toc-text">5. 卸载Chart应用</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%AD%E3%80%81%E6%A1%88%E4%BE%8B-%E5%AE%89%E8%A3%85Nginx"><span class="toc-text">六、案例-安装Nginx</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E4%B8%8B%E8%BD%BD-Nginx-Chart-%E5%AE%89%E8%A3%85%E5%8C%85"><span class="toc-text">1. 下载 Nginx Chart 安装包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%AE%89%E8%A3%85-Nginx-Chart"><span class="toc-text">2. 安装 Nginx Chart</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E6%9B%B4%E6%96%B0Chart"><span class="toc-text">3. 更新Chart</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E5%8D%B8%E8%BD%BDNginx"><span class="toc-text">4. 卸载Nginx</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%83%E3%80%81Helm-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-text">七、Helm 常用命令</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-Repository-%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4"><span class="toc-text">1. Repository 相关命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-Chart-%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4"><span class="toc-text">2. Chart 相关命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-helm-create"><span class="toc-text">2.1 helm create</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-helm-package"><span class="toc-text">2.2 helm package</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-helm-lint"><span class="toc-text">2.3 helm lint</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-helm-show"><span class="toc-text">2.4 helm show</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-helm-pull"><span class="toc-text">2.5 helm pull</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-helm-push"><span class="toc-text">2.6 helm push</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-Release-%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4"><span class="toc-text">3. Release 相关命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-helm-install"><span class="toc-text">3.1 helm install</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-helm-list"><span class="toc-text">3.2 helm list</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-helm-status"><span class="toc-text">3.3 helm status</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-helm-get"><span class="toc-text">3.4 helm get</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-helm-upgrade"><span class="toc-text">3.5 helm upgrade</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-helm-history"><span class="toc-text">3.6 helm history</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-7-helm-rollback"><span class="toc-text">3.7 helm rollback</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-8-helm-uninstall"><span class="toc-text">3.8 helm uninstall</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%AB%E3%80%81%E6%90%AD%E5%BB%BA-Chart-%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93"><span class="toc-text">八、搭建 Chart 私有仓库</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA-HTTP-Server-%E4%BD%9C%E4%B8%BAchart%E4%BB%93%E5%BA%93"><span class="toc-text">1. 创建一个 HTTP Server 作为chart仓库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-Helm-Chart%E4%B8%8A%E4%BC%A0%E5%88%B0%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93"><span class="toc-text">2. Helm Chart上传到私有仓库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E6%B5%8B%E8%AF%95%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93"><span class="toc-text">3. 测试私有仓库</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B9%9D%E3%80%81%E8%87%AA%E5%AE%9A%E4%B9%89Chart"><span class="toc-text">九、自定义Chart</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%88%9B%E5%BB%BA%E6%A8%A1%E6%9D%BF"><span class="toc-text">1. 创建模板</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%88%A0%E9%99%A4%E5%A4%9A%E4%BD%99%E7%9A%84%E6%96%87%E4%BB%B6"><span class="toc-text">2. 删除多余的文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-service-yaml"><span class="toc-text">3. service.yaml</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-deployment-yaml"><span class="toc-text">4. deployment.yaml</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-values-yaml"><span class="toc-text">5. values.yaml</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-Chart-yaml"><span class="toc-text">6. Chart.yaml</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E5%8F%91%E5%B8%83%E9%83%A8%E7%BD%B2"><span class="toc-text">7. 发布部署</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E6%89%93%E5%8C%85Chart%EF%BC%8C%E5%8F%91%E5%B8%83%E5%88%B0%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93"><span class="toc-text">8. 打包Chart，发布到私有仓库</span></a></li></ol></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="一、引言"><a href="#一、引言" class="headerlink" title="一、引言"></a>一、引言</h1><p>没有使用 Helm 之前，在 Kubernetes 部署应用，我们要依次部署 deployment、service 等，步骤比较繁琐。况且随着很多项目微服务化，复杂的应用在容器中部署以及管理显得较为复杂。</p>
<p>helm 通过打包的方式，支持发布的版本管理和控制，很大程度上简化了 Kubernetes 应用的部署和管理。Helm 本质就是让 k8s 的应用管理（Deployment、Service等）可配置，能动态生成。通过动态生成K8S资源清单文件（deployment.yaml、service.yaml）。然后 kubectl 自动调用 K8S 资源部署。</p>
<p>官网：<a target="_blank" rel="noopener" href="https://helm.sh/">Helm</a> </p>
<p>Helm 具备如下的能力：</p>
<ul>
<li><strong>简化部署</strong> ：Helm允许使用单个命令轻松部署和管理应用程序，从而简化了整个部署过程；</li>
<li><strong>高度可配置</strong>：Helm Charts提供了高度可配置的选项，可以轻松自定义和修改应用程序的部署配置；</li>
<li><strong>版本控制</strong> ：Helm允许管理应用程序的多个版本，从而轻松实现版本控制和回滚；</li>
<li><strong>模板化</strong>：Helm Charts使用YAML模板来定义Kubernetes对象的配置，从而简化了配置过程，并提高了可重复性和可扩展性；</li>
<li><strong>应用程序库</strong>：Helm具有应用程序库的概念，可以轻松地共享和重用Helm Charts，从而简化了多个应用程序的部署和管理；</li>
<li><strong>插件系统</strong>：Helm拥有一个强大的插件系统，允许您扩展和定制Helm的功能，以满足特定的需求和要求。</li>
</ul>
<h1 id="二、Helm-V2-与-V3-的区别"><a href="#二、Helm-V2-与-V3-的区别" class="headerlink" title="二、Helm V2 与 V3 的区别"></a>二、Helm V2 与 V3 的区别</h1><p>Helm v2 是 C&#x2F;S 架构，主要分为客户端 helm 和服务器端 tiller。而由于 RBAC 等权限控制体系的逐渐完善，多租户和安全的需求日益兴起，tiller 变得越来越不安全，社区在权限控制领域遇到了极大的阻碍。所以在 Helm3 版本中，直接将 tiller 这一核心组件移除，helm 直接和 kubernetes API 进行通信。直接带来的好处如下：</p>
<ul>
<li>Helm 的架构变的更为简单和灵活</li>
<li>不再需要创建 ServiceAccount，直接使用当前环境中的 kubeconfig 配置</li>
<li>可以直接和 kubernetes API 交互，更为安全</li>
<li>不再需要使用 helm init 来进行初始化</li>
</ul>
<h1 id="三、Helm工作流程"><a href="#三、Helm工作流程" class="headerlink" title="三、Helm工作流程"></a>三、Helm工作流程</h1><p>以下是Helm的工作流程（<strong>注意：这里使用的是Helm的v3版本，该版本没有了<code>tiller</code>并并使用更加简单和灵活的架构，直接通过 <code>kubeconfig</code> 连接 <code>apiserver</code> ，简化安全模块，降低了用户的使用壁垒</strong>）：</p>
<p><img src="https://raw.githubusercontent.com/GeorgeChan95/blogimg/master/img/2025/06/21/20250621-143827" alt="Helm工作流程"></p>
<p><strong>如上图所示，Helm的工作流程总结如下：</strong></p>
<ol>
<li>开发者首先创建并编辑 chart 的配置；</li>
<li>接着打包并发布至 Helm 的仓库（Repository）；</li>
<li>当管理员使用 helm 命令安装时，相关的依赖会从仓库下载；</li>
<li>接着helm 会根据下载的配置部署资源至 k8s ；</li>
</ol>
<h1 id="四、Helm概念"><a href="#四、Helm概念" class="headerlink" title="四、Helm概念"></a>四、Helm概念</h1><p><strong>在使用Helm的过程中，需要理解如下的几个核心的概念：</strong></p>
<table>
<thead>
<tr>
<th>概念</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Chart</strong></td>
<td>一个 Helm 包，其中包含了运行一个应用所需要的镜像、依赖和资源定义等，还可能包含 Kubernetes 集群中的服务定义，类似 Homebrew 中的 formula、APT 的 dpkg 或者 Yum 的 rpm 文件</td>
</tr>
<tr>
<td><strong>Repository</strong></td>
<td>存储 Helm Charts 的地方</td>
</tr>
<tr>
<td><strong>Release</strong></td>
<td>Chart 在 k8s上运行的 Chart 的一个实例，例如，如果一个 MySQL Chart 想在服务器上运行两个数据库，可以将这个 Chart 安装两次，并在每次安装中生成自己的 Release 以及 Release 名称。</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>Helm Chart 的参数，用于配置 Kubernetes 对象</td>
</tr>
<tr>
<td><strong>Template</strong></td>
<td>使用 Go 模板语言生成 Kubernetes 对象的定义文件</td>
</tr>
<tr>
<td><strong>Namespace</strong></td>
<td>Kubernetes 中用于隔离资源的逻辑分区</td>
</tr>
</tbody></table>
<h1 id="五、Helm的使用"><a href="#五、Helm的使用" class="headerlink" title="五、Helm的使用"></a>五、Helm的使用</h1><h2 id="1-安装Helm"><a href="#1-安装Helm" class="headerlink" title="1. 安装Helm"></a>1. 安装Helm</h2><p>参考官方文档：<a target="_blank" rel="noopener" href="https://helm.sh/zh/docs/intro/install/">安装Helm</a></p>
<h3 id="1-1-用二进制版本安装"><a href="#1-1-用二进制版本安装" class="headerlink" title="1.1 用二进制版本安装"></a>1.1 用二进制版本安装</h3><p><strong>下载二进制安装包</strong></p>
<p>下载地址：<a target="_blank" rel="noopener" href="https://github.com/helm/helm/releases">https://github.com/helm/helm/releases</a></p>
<p><strong>解压二进制包</strong></p>
<pre><code class="highlight bash">$ tar -zxvf helm-v3.12.3-linux-amd64.tar.gz</code></pre>



<p><strong>将二进制文件移动到对应的目录中</strong></p>
<pre><code class="highlight bash">$ <span class="built_in">mv</span> linux-amd64/helm /usr/local/bin/helm</code></pre>



<p><strong>测试</strong></p>
<pre><code class="highlight bash"><span class="comment"># 查看Helm版本</span>
$ helm version
version.BuildInfo&#123;Version:<span class="string">&quot;v3.12.3&quot;</span>, GitCommit:<span class="string">&quot;3a31588ad33fe3b89af5a2a54ee1d25bfe6eaa5e&quot;</span>, GitTreeState:<span class="string">&quot;clean&quot;</span>, GoVersion:<span class="string">&quot;go1.20.7&quot;</span>&#125;</code></pre>



<h3 id="1-2-使用脚本安装"><a href="#1-2-使用脚本安装" class="headerlink" title="1.2 使用脚本安装"></a>1.2 使用脚本安装</h3><p>Helm现在有个安装脚本可以自动拉取最新的Helm版本并在 <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3">本地安装</a>。</p>
<pre><code class="highlight bash"><span class="comment"># 在线安装脚本</span>
$ curl -fsSL -o get_helm.sh https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3

<span class="comment"># 给脚本授权</span>
$ <span class="built_in">chmod</span> 700 get_helm.sh

<span class="comment"># 执行脚本</span>
$ ./get_helm.sh</code></pre>



<h2 id="2-Helm-初始化"><a href="#2-Helm-初始化" class="headerlink" title="2. Helm 初始化"></a>2. Helm 初始化</h2><p>当您已经安装好了Helm之后，您可以添加一个 chart 仓库。从  <a target="_blank" rel="noopener" href="https://artifacthub.io/packages/search?kind=0">Artifact Hub </a>中查找有效的 Helm chart 仓库</p>
<pre><code class="highlight bash">$ helm repo add bitnami https://charts.bitnami.com/bitnami
<span class="string">&quot;bitnami&quot;</span> has been added to your repositories</code></pre>

<p>当添加完成，您将可以看到可以被您安装的 charts 列表：</p>
<pre><code class="highlight bash">$ helm search repo bitnami
NAME                                        	CHART VERSION	APP VERSION  	DESCRIPTION                                       
bitnami/airflow                             	24.1.4       	3.0.2        	Apache Airflow is a tool to express and execute...
bitnami/apache                              	11.3.16      	2.4.63       	Apache HTTP Server is an open-source HTTP serve...
bitnami/apisix                              	5.0.3        	3.12.0       	Apache APISIX is high-performance, real-time AP...
bitnami/appsmith                            	6.0.11       	1.77.0       	Appsmith is an open <span class="built_in">source</span> platform <span class="keyword">for</span> buildin...
bitnami/argo-cd                             	9.0.22       	3.0.9        	Argo CD is a continuous delivery tool <span class="keyword">for</span> Kuber...</code></pre>





<h2 id="3-Helm-仓库管理"><a href="#3-Helm-仓库管理" class="headerlink" title="3. Helm 仓库管理"></a>3. Helm 仓库管理</h2><h3 id="3-1-添加仓库"><a href="#3-1-添加仓库" class="headerlink" title="3.1 添加仓库"></a>3.1 添加仓库</h3><pre><code class="highlight bash"><span class="comment"># 添加 bitnami 仓库</span>
$ helm repo add bitnami https://charts.bitnami.com/bitnami

<span class="comment"># 添加阿里云仓库</span>
$ helm repo add aliyun https://kubernetes.oss-cn-hangzhou.aliyuncs.com/charts

<span class="comment"># 添加微软仓库</span>
$ helm repo add ms http://mirror.azure.cn/kubernetes/charts/</code></pre>



<h3 id="3-2-查看仓库"><a href="#3-2-查看仓库" class="headerlink" title="3.2 查看仓库"></a>3.2 查看仓库</h3><pre><code class="highlight bash">$ helm repo list
NAME   	URL                                                   
bitnami	https://charts.bitnami.com/bitnami                    
aliyun 	https://kubernetes.oss-cn-hangzhou.aliyuncs.com/charts
ms     	http://mirror.azure.cn/kubernetes/charts/</code></pre>



<h3 id="3-3-更新仓库索引"><a href="#3-3-更新仓库索引" class="headerlink" title="3.3 更新仓库索引"></a>3.3 更新仓库索引</h3><pre><code class="highlight bash">$ helm repo update</code></pre>



<h3 id="3-4-删除仓库"><a href="#3-4-删除仓库" class="headerlink" title="3.4 删除仓库"></a>3.4 删除仓库</h3><pre><code class="highlight bash">$ helm repo remove [仓库名称]</code></pre>



<h3 id="3-5-在仓库中搜索-Chart-应用"><a href="#3-5-在仓库中搜索-Chart-应用" class="headerlink" title="3.5 在仓库中搜索 Chart 应用"></a>3.5 在仓库中搜索 Chart 应用</h3><pre><code class="highlight bash"><span class="comment"># 只在 ms 仓库搜索应用</span>
$ helm search repo ms/redis

<span class="comment"># 在添加的所有仓库搜索应用</span>
$ helm search repo redis</code></pre>



<h3 id="3-6-查看指定仓库中Chart的版本"><a href="#3-6-查看指定仓库中Chart的版本" class="headerlink" title="3.6  查看指定仓库中Chart的版本"></a>3.6  查看指定仓库中Chart的版本</h3><pre><code class="highlight bash">helm search repo [chart名称] --versions

$ helm search repo ms/redis --versions
NAME       	CHART VERSION	APP VERSION    	DESCRIPTION                                       
ms/redis   	10.5.7       	5.0.7          	DEPRECATED Open <span class="built_in">source</span>, advanced key-value stor...
ms/redis   	9.5.4        	5.0.6          	Open <span class="built_in">source</span>, advanced key-value store. It is of...
ms/redis   	9.5.3        	5.0.6          	Open <span class="built_in">source</span>, advanced key-value store. It is of...
ms/redis   	9.5.2        	5.0.5          	Open <span class="built_in">source</span>, advanced key-value store. It is of...
</code></pre>



<h3 id="3-7-拉取远程仓库的-Chart"><a href="#3-7-拉取远程仓库的-Chart" class="headerlink" title="3.7 拉取远程仓库的 Chart"></a>3.7 拉取远程仓库的 Chart</h3><pre><code class="highlight bash"><span class="comment"># 语法，--version对应的是chart version，--untar自动解压，</span>
<span class="comment"># --destination：指定下载的 Chart 文件（.tgz）保存的目标目录（默认当前目录）。</span>
<span class="comment"># --repo [仓库URL]	直接从指定 URL 下载 Chart，而不使用已添加的仓库名称。</span>
helm pull [chart名出] --version [版本号] --untar --destination [/path] --repo [仓库URL]
 
<span class="comment"># 示例</span>
$ helm pull ms/redis --version 10.5.7
$ ll
-rw-r--r-- 1 root root      31909 Jun 22 15:52 redis-10.5.7.tgz</code></pre>



<h2 id="4-安装-chart-示例"><a href="#4-安装-chart-示例" class="headerlink" title="4. 安装 chart 示例"></a>4. 安装 chart 示例</h2><h3 id="4-1-在线安装"><a href="#4-1-在线安装" class="headerlink" title="4.1 在线安装"></a>4.1 在线安装</h3><pre><code class="highlight bash"><span class="comment"># 更新 charts 列表</span>
$ helm repo update
Hang tight <span class="keyword">while</span> we grab the latest from your chart repositories...
...Successfully got an update from the <span class="string">&quot;bitnami&quot;</span> chart repository
Update Complete. ⎈Happy Helming!⎈

<span class="comment"># 显示 Bitnami 提供的 Apache Helm chart 的默认配置文件（values.yaml）内容</span>
$ helm show values bitnami/apache

<span class="comment"># 在 Kubernetes 集群中安装 Bitnami 提供的 Apache Helm chart，并自动生成一个唯一的 release 名称</span>
$ helm install bitnami/apache --generate-name</code></pre>

<p>上面的操作用的 chart 源是 bitnami , 而 bitnami 服务器在国外，国内无法访问，我尝试服务器翻墙，依然报错，错误信息如下：</p>
<pre><code class="highlight bash">$ helm install my-apache bitnami/apache --version 11.3.16
Error: INSTALLATION FAILED: failed to <span class="keyword">do</span> request: Head <span class="string">&quot;https://registry-1.docker.io/v2/bitnamicharts/apache/manifests/11.3.16&quot;</span>: dial tcp: lookup registry-1.docker.io: i/o <span class="built_in">timeout</span></code></pre>



<h3 id="4-2-离线安装"><a href="#4-2-离线安装" class="headerlink" title="4.2 离线安装"></a>4.2 离线安装</h3><pre><code class="highlight bash"><span class="comment"># 下载chart安装包</span>
wget https://charts.bitnami.com/bitnami/apache-11.3.16.tgz

<span class="comment"># 解压</span>
tar -zxvf apache-11.3.16.tgz 

<span class="comment"># 进入解压后的chart目录</span>
<span class="built_in">cd</span> apache

<span class="comment"># 安装Chart，运行生成一个Release</span>
<span class="comment"># 方式一：使用解压后的chart安装， . 表示当前解压的目录</span>
$ helm install my-apache .
<span class="comment"># 方式二：直接使用下载的 chart 压缩包安装</span>
helm install my-apache apache-11.3.16.tgz

<span class="comment"># 查看Release实例</span>
$ helm list -n default
NAME     	NAMESPACE	REVISION	UPDATED                                	STATUS  	CHART         	APP VERSION
my-apache	default  	1       	2025-06-22 14:05:26.557276416 +0800 CST	deployed	apache-11.3.16	2.4.63</code></pre>

<p>查看运行的Pod</p>
<pre><code class="highlight bash"><span class="comment"># 查看运行的Service</span>
$ kubectl get svc -o wide
NAME         TYPE           CLUSTER-IP      EXTERNAL-IP   PORT(S)                      AGE    SELECTOR
kubernetes   ClusterIP      10.96.0.1       &lt;none&gt;        443/TCP                      54d    &lt;none&gt;
my-apache    LoadBalancer   10.108.203.41   &lt;pending&gt;     80:31349/TCP,443:32630/TCP   105s   app.kubernetes.io/instance=my-apache,app.kubernetes.io/name=apache

<span class="comment"># 查看Deployment</span>
$ kubectl get deployment -o wide
NAME        READY   UP-TO-DATE   AVAILABLE   AGE    CONTAINERS   IMAGES                                          SELECTOR
my-apache   0/1     1            0           112s   apache       docker.io/bitnami/apache:2.4.63-debian-12-r16   app.kubernetes.io/instance=my-apache,app.kubernetes.io/name=apache

<span class="comment"># 查看Pod</span>
$ kubectl get pods -o wide
NAME                         READY   STATUS              RESTARTS   AGE    IP              NODE         NOMINATED NODE   READINESS GATES
my-apache-74b6d9f88b-lknsr   0/1     Init:ErrImagePull   0          114s   172.16.58.254   k8s-node02   &lt;none&gt;           &lt;none&gt;</code></pre>

<p>Pod未能运行成功，查找原因</p>
<pre><code class="highlight bash">$ kubectl describe pod my-apache-74b6d9f88b-lknsr
Name:             my-apache-74b6d9f88b-lknsr
Namespace:        default
Priority:         0
Service Account:  my-apache
Node:             k8s-node02/192.168.6.141
......
......
Events:
  Type     Reason     Age                    From               Message
  ----     ------     ----                   ----               -------
  Normal   Scheduled  6m39s                  default-scheduler  Successfully assigned default/my-apache-74b6d9f88b-lknsr to k8s-node02
  Warning  Failed     5m51s (x2 over 6m21s)  kubelet            Failed to pull image <span class="string">&quot;docker.io/bitnami/apache:2.4.63-debian-12-r16&quot;</span>: Error response from daemon: Get <span class="string">&quot;https://registry-1.docker.io/v2/&quot;</span>: net/http: request canceled <span class="keyword">while</span> waiting <span class="keyword">for</span> connection (Client.Timeout exceeded <span class="keyword">while</span> awaiting headers)
  Warning  Failed     5m10s                  kubelet            Failed to pull image <span class="string">&quot;docker.io/bitnami/apache:2.4.63-debian-12-r16&quot;</span>: Error response from daemon: Get <span class="string">&quot;https://registry-1.docker.io/v2/&quot;</span>: context deadline exceeded
  Normal   Pulling    4m17s (x4 over 6m36s)  kubelet            Pulling image <span class="string">&quot;docker.io/bitnami/apache:2.4.63-debian-12-r16&quot;</span>
  Warning  Failed     4m1s (x4 over 6m21s)   kubelet            Error: ErrImagePull
  Warning  Failed     4m1s                   kubelet            Failed to pull image <span class="string">&quot;docker.io/bitnami/apache:2.4.63-debian-12-r16&quot;</span>: Error response from daemon: Get <span class="string">&quot;https://registry-1.docker.io/v2/&quot;</span>: context deadline exceeded (Client.Timeout exceeded <span class="keyword">while</span> awaiting headers)
  Warning  Failed     3m46s (x6 over 6m20s)  kubelet            Error: ImagePullBackOff
  Normal   BackOff    91s (x14 over 6m20s)   kubelet            Back-off pulling image <span class="string">&quot;docker.io/bitnami/apache:2.4.63-debian-12-r16&quot;</span></code></pre>

<p><strong>原因：镜像  docker.io&#x2F;bitnami&#x2F;apache:2.4.63-debian-12-r16 拉取失败，可以通过修改 chart 解压路径中的 value.yaml 文件，将镜像替换成国内的镜像即可。</strong></p>
<p>也可以添加国内的阿里云 chart 仓库，地址：<a target="_blank" rel="noopener" href="https://kubernetes.oss-cn-hangzhou.aliyuncs.com/charts">https://kubernetes.oss-cn-hangzhou.aliyuncs.com/charts</a> （chart包没有官网那么全），</p>
<p>还有<strong>微软的chart 仓库地址</strong>：<a target="_blank" rel="noopener" href="http://mirror.azure.cn/kubernetes/charts/">http://mirror.azure.cn/kubernetes/charts/</a> （官网有的，它大多都有, <strong>推荐使用</strong>）</p>
<pre><code class="highlight bash">$ helm repo add aliyun https://kubernetes.oss-cn-hangzhou.aliyuncs.com/charts
$ helm repo add ms http://mirror.azure.cn/kubernetes/charts/

$ helm repo update

$ helm search repo ms

<span class="comment"># 显示 微软 提供的 Apache Helm chart 的默认配置文件（values.yaml）内容</span>
$ helm show values ms/redis

<span class="comment"># 在 Kubernetes 集群中安装 Bitnami 提供的 Apache Helm chart，并自动生成一个唯一的 release 名称</span>
$ helm install ms/redis --generate-name</code></pre>



<h3 id="4-3-Chart-安装资源顺序"><a href="#4-3-Chart-安装资源顺序" class="headerlink" title="4.3 Chart 安装资源顺序"></a>4.3 Chart 安装资源顺序</h3><pre><code class="highlight plaintext">Namespace	&gt;	NetworkPolicy	&gt;	ResourceQuota	&gt;	LimitRange	&gt;	PodSecurityPolicy	&gt;	PodDisruptionBudget	&gt;	ServiceAccount	&gt;	Secret	&gt;	SecretList	&gt;	ConfigMap	&gt;	StorageClass
PersistentVolume	&gt;	PersistentVolumeClaim	&gt;	CustomResourceDefinition	&gt;	ClusterRole
ClusterRoleList	&gt;	ClusterRoleBinding	&gt;	ClusterRoleBindingList	&gt;	Role	&gt;	RoleList
RoleBinding	&gt;	RoleBindingList	&gt;	Service	&gt;	DaemonSet	&gt;	Pod	&gt;	ReplicationController	&gt;	ReplicaSet	&gt;	Deployment	&gt;	HorizontalPodAutoscaler	&gt;	StatefulSet	&gt;	Job	&gt;	CronJob	&gt;	Ingress	&gt;	APIService</code></pre>

<!--Helm 客户端不会等到所有资源都运行才退出。许多 charts 需要大小超过 600M 的 Docker 镜像，可能需要很长时间才能安装到集群中。-->



<h3 id="4-4-安装过程中有两种方式传递配置数据"><a href="#4-4-安装过程中有两种方式传递配置数据" class="headerlink" title="4.4 安装过程中有两种方式传递配置数据"></a>4.4 安装过程中有两种方式传递配置数据</h3><ul>
<li><code>--values</code> (或 <code>-f</code>)：使用 YAML 文件覆盖配置。可以指定多次，优先使用最右边的文件</li>
<li><code>--set</code>：通过命令行的方式对指定项进行覆盖</li>
</ul>
<p>如果同时使用两种方式，则 <code>--set</code> 中的值会被合并到 <code>--values</code> 中，但是 <code>--set</code> 中的值优先级更高。在<code>--set</code> 中覆盖的内容会被被保存在 ConfigMap 中。可以通过 <code>helm get values &lt;release-name&gt;</code> 来查看指定 release 中 <code>--set</code> 设置的值。也可以通过运行 <code>helm upgrade</code> 并指定 <code>--reset-values</code> 字段来清除 <code>--set</code> 中设置的值</p>
<h4 id="4-4-1-set-的格式和限制"><a href="#4-4-1-set-的格式和限制" class="headerlink" title="4.4.1 --set 的格式和限制"></a>4.4.1 <code>--set</code> 的格式和限制</h4><p><code>--set</code> 选项使用0或多个 name&#x2F;value 对。最简单的用法类似于： <code>--set name=value</code> ，等价于如下 YAML 格式：</p>
<pre><code class="highlight yaml"><span class="attr">name:</span> <span class="string">value</span></code></pre>



<p>多个值使用逗号分割，因此 <code>--set a=b,c=d</code> 的 YAML 表示是：</p>
<pre><code class="highlight yaml"><span class="attr">a:</span> <span class="string">b</span>
<span class="attr">c:</span> <span class="string">d</span></code></pre>



<p>支持更复杂的表达式。例如，<code>--set outer.inner=value</code> 被转换成了：</p>
<pre><code class="highlight yaml"><span class="attr">outer:</span>
  <span class="attr">inner:</span> <span class="string">value</span></code></pre>



<p>列表使用花括号（<code>&#123;&#125;</code>）来表示。例如，<code>--set name=&#123;a, b, c&#125;</code> 被转换成了：</p>
<pre><code class="highlight yaml"><span class="attr">name:</span>
  <span class="bullet">-</span> <span class="string">a</span>
  <span class="bullet">-</span> <span class="string">b</span>
  <span class="bullet">-</span> <span class="string">c</span></code></pre>



<p>某些 name&#x2F;key 可以设置为 <code>null</code> 或者空数组，例如  <code>--set name=[],a=null</code>  </p>
<pre><code class="highlight yaml"><span class="attr">name:</span> []
<span class="attr">a:</span> <span class="literal">null</span></code></pre>



<p>从 2.5.0 版本开始，可以使用数组下标的语法来访问列表中的元素。例如 <code>--set servers[0].port=80</code> 就变成了：</p>
<pre><code class="highlight yaml"><span class="attr">servers:</span>
  <span class="bullet">-</span> <span class="attr">port:</span> <span class="number">80</span></code></pre>



<p>多个值也可以通过这种方式来设置。<code>--set servers[0].port=80,servers[0].host=example</code> 变成了：</p>
<pre><code class="highlight yaml"><span class="attr">servers:</span>
  <span class="bullet">-</span> <span class="attr">port:</span> <span class="number">80</span>
    <span class="attr">host:</span> <span class="string">example</span></code></pre>



<p>如果需要在 <code>--set</code> 中使用特殊字符，你可以使用反斜线来进行转义；<code>--set name=value1\,value2</code> 就变成了：</p>
<pre><code class="highlight yaml"><span class="attr">name:</span> <span class="string">&quot;value1,value2&quot;</span></code></pre>

<p>–set nodeSelector.”kubernetes.io&#x2F;role”&#x3D;master</p>
<pre><code class="highlight yaml"><span class="attr">nodeSelector:</span>
  <span class="attr">kubernetes.io/role:</span> <span class="string">master</span></code></pre>





<h3 id="4-5-安装、升级、回滚时的有用选项"><a href="#4-5-安装、升级、回滚时的有用选项" class="headerlink" title="4.5 安装、升级、回滚时的有用选项"></a>4.5 安装、升级、回滚时的有用选项</h3><ul>
<li>–timeout：一个 Go duration 类型的值， 用来表示等待 Kubernetes 命令完成的超时时间，默认值为 5m0s。such as “300ms”, “-1.5h” or “2h45m”. Valid time units are “ns”, “us” (or “µs”), “ms”, “s”, “m”, “h”。</li>
<li>–wait：表示必须要等到所有的 Pods 都处于 ready 状态，PVC 都被绑定，Deployments 都至少拥有最小 ready 状态 Pods 个数（Desired 减去 maxUnavailable ），并且 Services 都具有 IP 地址（如果是 LoadBalancer， 则为 Ingress ），才会标记该 release 为成功。最长等待时间由 –timeout 值指定。如果达到超时时间，release 将被标记为 FAILED。注意：当 Deployment 的 replicas 被设置为1，但其滚动升级策略中的 maxUnavailable 没有被设置为0时，–wait 将返回就绪，因为已经满足了最小 ready Pod 数</li>
<li><code>--no-hooks</code>：不运行当前命令的钩子，即为安装此 chart 时的已定义的安装前或者安装后的动作</li>
<li>–recreate-pods：（仅适用于 <code>upgrade</code> 和 <code>rollback</code>）：这个参数会导致重建所有的 Pod（deployment 中的 Pod 除外）。（在 Helm 3 中已被废弃）</li>
</ul>
<h2 id="5-卸载Chart应用"><a href="#5-卸载Chart应用" class="headerlink" title="5. 卸载Chart应用"></a>5. 卸载Chart应用</h2><p>卸载一个已安装的 Release 实例</p>
<pre><code class="highlight bash"><span class="comment"># 查看当前运行的 release </span>
$ helm list
NAME            	NAMESPACE	REVISION	UPDATED                                	STATUS  	CHART         	APP VERSION
chart-1750577584	default  	1       	2025-06-22 15:33:04.623161176 +0800 CST	deployed	apache-11.3.16	2.4.63

<span class="comment"># 卸载应用</span>
$ helm uninstall chart-1750577584

<span class="comment"># 再次查看 release ，应用已卸载</span>
$ helm list
NAME	NAMESPACE	REVISION	UPDATED	STATUS	CHART	APP VERSION</code></pre>





<h1 id="六、案例-安装Nginx"><a href="#六、案例-安装Nginx" class="headerlink" title="六、案例-安装Nginx"></a>六、案例-安装Nginx</h1><h2 id="1-下载-Nginx-Chart-安装包"><a href="#1-下载-Nginx-Chart-安装包" class="headerlink" title="1. 下载 Nginx Chart 安装包"></a>1. 下载 Nginx Chart 安装包</h2><pre><code class="highlight bash"><span class="comment"># 搜索要下载的 Chart 版本</span>
$ helm search repo bitnami/nginx --versions
NAME                            	CHART VERSION	APP VERSION	DESCRIPTION                                       
bitnami/nginx                   	20.1.3       	1.28.0     	NGINX Open Source is a web server that can be a...
bitnami/nginx                   	20.1.2       	1.28.0     	NGINX Open Source is a web server that can be a...

<span class="comment"># 使用 pull 拉取Chart， 失败</span>
$ helm pull bitnami/nginx --version 20.1.3
Error: failed to <span class="keyword">do</span> request: Head <span class="string">&quot;https://registry-1.docker.io/v2/bitnamicharts/nginx/manifests/20.1.3&quot;</span>: dial tcp 199.59.148.202:443: i/o <span class="built_in">timeout</span>

<span class="comment"># 使用 wget 命令下载安装包，成功</span>
$ wget https://charts.bitnami.com/bitnami/nginx-20.1.3.tgz</code></pre>



<h2 id="2-安装-Nginx-Chart"><a href="#2-安装-Nginx-Chart" class="headerlink" title="2. 安装 Nginx Chart"></a>2. 安装 Nginx Chart</h2><pre><code class="highlight bash"><span class="comment"># 执行命令，根据Chart压缩包创建实例，生成 svc、deployment、pod</span>
$ helm install my-nginx nginx-20.1.3.tgz \
	--<span class="built_in">set</span> service.type=NodePort \
	--<span class="built_in">set</span> service.nodePorts.http=30003 \
    --namespace default --create-namespace
    
    
<span class="comment"># --set service.type=NodePort  手动设置Service类型为NodePort,模板文件 values.yaml 中默认为 LoadBalance</span>
<span class="comment"># --set service.nodePorts.http=30003 手动设置NodePort端口，模板文件中默认为空，自动生成端口</span>
<span class="comment"># --namespace default --create-namespace 指定 Pod、SVC、Deployment 所在的工作空间，不存在则创建</span></code></pre>

<p> 由于模板文件中的镜像默认都从 docker hub 下载，国内存在网络限制，在执行下面的命令前，先将镜像下载下来，导入到集群的 Node 节点。</p>
<p>关于如下下载外网镜像，参考这篇博客：<a href="https://georgechan95.github.io/blog/b01d5c62.html">Docker配置网络代理实现外网镜像下载</a></p>
<p><strong>查看结果：</strong></p>
<pre><code class="highlight bash"><span class="comment"># 查看 Release</span>
$ helm list
NAME    	NAMESPACE	REVISION	UPDATED                                	STATUS  	CHART       	APP VERSION
my-nginx	default  	1       	2025-06-22 16:57:21.546051288 +0800 CST	deployed	nginx-20.1.3	1.28.0

<span class="comment"># 查看 SVC</span>
$ kubectl get svc -o wide
NAME         TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)                      AGE   SELECTOR
my-nginx     NodePort    10.105.158.179   &lt;none&gt;        80:30003/TCP,443:31458/TCP   12m   app.kubernetes.io/instance=my-nginx,app.kubernetes.io/name=nginx

<span class="comment"># 查看 Deploy</span>
$ kubectl get deploy -o wide
NAME       READY   UP-TO-DATE   AVAILABLE   AGE   CONTAINERS   IMAGES                                        SELECTOR
my-nginx   1/1     1            1           12m   nginx        docker.io/bitnami/nginx:1.28.0-debian-12-r3   app.kubernetes.io/instance=my-nginx,app.kubernetes.io/name=nginx

<span class="comment"># 查看 Pod</span>
$ kubectl get pod -o wide
NAME                        READY   STATUS    RESTARTS   AGE   IP              NODE         NOMINATED NODE   READINESS GATES
my-nginx-58cf875b74-tp8ct   1/1     Running   0          13m   172.16.58.223   k8s-node02   &lt;none&gt;           &lt;none&gt;</code></pre>

<p>浏览器访问 SVC</p>
<p><img src="https://raw.githubusercontent.com/GeorgeChan95/blogimg/master/img/2025/06/22/20250622-171105.png" alt="Helm 安装 Nginx"></p>
<h2 id="3-更新Chart"><a href="#3-更新Chart" class="headerlink" title="3. 更新Chart"></a>3. 更新Chart</h2><pre><code class="highlight bash"><span class="comment"># 更新 Realse ， 将Pod 副本数从 1 变成 3</span>
$ helm upgrade my-nginx nginx-20.1.3.tgz --<span class="built_in">set</span> replicaCount=3

<span class="comment"># 再次查看 Realse</span>
<span class="comment"># 版本号REVISION 更新了，从 1 变成了 2</span>
$ helm list
NAME    	NAMESPACE	REVISION	UPDATED                                	STATUS  	CHART       	APP VERSION
my-nginx	default  	2       	2025-06-22 17:24:48.296877982 +0800 CST	deployed	nginx-20.1.3	1.28.0

<span class="comment"># 查看 Pod</span>
$ kubectl get pods -o wide
NAME                        READY   STATUS    RESTARTS   AGE     IP              NODE         NOMINATED NODE   READINESS GATES
my-nginx-58cf875b74-gszn4   1/1     Running   0          2m54s   172.16.58.208   k8s-node02   &lt;none&gt;           &lt;none&gt;
my-nginx-58cf875b74-q76q6   1/1     Running   0          17s     172.16.58.210   k8s-node02   &lt;none&gt;           &lt;none&gt;
my-nginx-58cf875b74-zgbtp   1/1     Running   0          2m42s   172.16.85.193   k8s-node01   &lt;none&gt;           &lt;none&gt;</code></pre>





<h2 id="4-卸载Nginx"><a href="#4-卸载Nginx" class="headerlink" title="4. 卸载Nginx"></a>4. 卸载Nginx</h2><pre><code class="highlight bash">$ helm uninstall my-nginx</code></pre>





<h1 id="七、Helm-常用命令"><a href="#七、Helm-常用命令" class="headerlink" title="七、Helm 常用命令"></a>七、Helm 常用命令</h1><h2 id="1-Repository-相关命令"><a href="#1-Repository-相关命令" class="headerlink" title="1. Repository 相关命令"></a>1. Repository 相关命令</h2><p>见本文 <code>helm的使用 / Helm 仓库管理</code></p>
<h2 id="2-Chart-相关命令"><a href="#2-Chart-相关命令" class="headerlink" title="2. Chart 相关命令"></a>2. Chart 相关命令</h2><h3 id="2-1-helm-create"><a href="#2-1-helm-create" class="headerlink" title="2.1 helm create"></a>2.1 <code>helm create</code></h3><p>该命令用于创建一个新的 Chart 目录：</p>
<pre><code class="highlight bash">$ helm create demo
Creating demo</code></pre>

<p>创建的 Chart 目录是下面这样的结构：</p>
<pre><code class="highlight bash">$ tree demo
demo
├── Chart.yaml
├── charts
├── templates
│   ├── NOTES.txt
│   ├── _helpers.tpl
│   ├── deployment.yaml
│   ├── hpa.yaml
│   ├── ingress.yaml
│   ├── service.yaml
│   ├── serviceaccount.yaml
│   └── tests
│       └── test-connection.yaml
└── values.yaml

3 directories, 10 files</code></pre>



<h3 id="2-2-helm-package"><a href="#2-2-helm-package" class="headerlink" title="2.2 helm package"></a>2.2 <code>helm package</code></h3><p>将 Chart 目录（必须包含 <code>Chart.yaml</code> 文件）打包成 Chart 归档文件：</p>
<pre><code class="highlight bash">$ helm package demo
Successfully packaged chart and saved it to: /opt/k8s/10/demo-0.1.0.tgz</code></pre>



<h3 id="2-3-helm-lint"><a href="#2-3-helm-lint" class="headerlink" title="2.3 helm lint"></a>2.3 <code>helm lint</code></h3><p>验证 Chart 是否存在问题：</p>
<pre><code class="highlight bash">$ helm lint ./demo
==&gt; Linting ./demo
[INFO] Chart.yaml: icon is recommended

1 chart(s) linted, 0 chart(s) failed</code></pre>



<h3 id="2-4-helm-show"><a href="#2-4-helm-show" class="headerlink" title="2.4 helm show"></a>2.4 <code>helm show</code></h3><p>该命令用于显示 Chart 的基本信息，包括：</p>
<ul>
<li><code>helm show chart</code> - 显示 Chart 定义，实际上就是 <code>Chart.yaml</code> 文件的内容</li>
<li><code>helm show crds</code> - 显示 Chart 的 CRD</li>
<li><code>helm show readme</code> - 显示 Chart 的 <code>README.md</code> 文件中的内容</li>
<li><code>helm show values</code> - 显示 Chart 的 <code>values.yaml</code> 文件中的内容</li>
<li><code>helm show all</code> - 显示 Chart 的所有信息</li>
</ul>
<pre><code class="highlight bash">$ helm show chart demo-0.1.0.tgz
$ helm show values demo-0.1.0.tgz</code></pre>



<h3 id="2-5-helm-pull"><a href="#2-5-helm-pull" class="headerlink" title="2.5 helm pull"></a>2.5 <code>helm pull</code></h3><p>从仓库中将 Chart 安装包下载到本地：</p>
<pre><code class="highlight bash">$ helm pull bitnami/nginx
$ <span class="built_in">ls</span>
nginx-13.2.23.tgz</code></pre>



<h3 id="2-6-helm-push"><a href="#2-6-helm-push" class="headerlink" title="2.6 helm push"></a>2.6 <code>helm push</code></h3><p>将 Chart 安装包推送到远程仓库：</p>
<pre><code class="highlight bash">$ helm push [chart] [remote]</code></pre>





<h2 id="3-Release-相关命令"><a href="#3-Release-相关命令" class="headerlink" title="3. Release 相关命令"></a>3. Release 相关命令</h2><h3 id="3-1-helm-install"><a href="#3-1-helm-install" class="headerlink" title="3.1 helm install"></a>3.1 <code>helm install</code></h3><p>将 Chart 安装到 Kubernetes 集群：</p>
<pre><code class="highlight bash">$ helm install my-nginx bitnami/nginx --version 20.1.3</code></pre>

<p>安装时可以通过 <code>--set</code> 选项修改配置参数：</p>
<pre><code class="highlight bash">$ helm install my-nginx bitnami/nginx --version 20.1.3 \
    --<span class="built_in">set</span> service.ports.http=8080</code></pre>

<p>其中 <code>bitnami/nginx</code> 是要安装的 Chart，这种写法是最常用的格式，被称为 <code>Chart 引用</code>，一共有六种不同的 Chart 写法：</p>
<ul>
<li>通过 Chart 引用：<code>helm install my-nginx bitnami/nginx</code></li>
<li>通过 Chart 包：<code>helm install my-nginx ./nginx-13.2.23.tgz</code></li>
<li>通过未打包的 Chart 目录：<code>helm install my-nginx ./nginx</code></li>
<li>通过 Chart URL：<code>helm install my-nginx https://example.com/charts/nginx-13.2.23.tgz</code></li>
<li>通过仓库 URL 和 Chart 引用：<code>helm install --repo https://example.com/charts/ my-nginx nginx</code></li>
<li>通过 OCI 注册中心：<code>helm install my-nginx --version 13.2.23 oci://example.com/charts/nginx</code></li>
</ul>
<h3 id="3-2-helm-list"><a href="#3-2-helm-list" class="headerlink" title="3.2 helm list"></a>3.2 <code>helm list</code></h3><p>显示某个命名空间下的所有 Release：</p>
<pre><code class="highlight bash">$ helm list --namespace default
NAME    	NAMESPACE	REVISION	UPDATED                                	STATUS  	CHART       	APP VERSION
my-nginx	default  	1       	2025-06-22 17:50:26.273823328 +0800 CST	deployed	nginx-20.1.3	1.28.0</code></pre>



<h3 id="3-3-helm-status"><a href="#3-3-helm-status" class="headerlink" title="3.3 helm status"></a>3.3 <code>helm status</code></h3><p>查询某个 Release 的状态信息：</p>
<pre><code class="highlight bash">$ helm status my-nginx
NAME: my-nginx
LAST DEPLOYED: Sun Jun 22 17:50:26 2025
NAMESPACE: default
STATUS: deployed
REVISION: 1
TEST SUITE: None
NOTES:
CHART NAME: nginx
CHART VERSION: 20.1.3
APP VERSION: 1.28.0

Did you know there are enterprise versions of the Bitnami catalog? For enhanced secure software supply chain features, unlimited pulls from Docker, LTS support, or application customization, see Bitnami Premium or Tanzu Application Catalog. See https://www.arrow.com/globalecs/na/vendors/bitnami <span class="keyword">for</span> more information.

** Please be patient <span class="keyword">while</span> the chart is being deployed **
NGINX can be accessed through the following DNS name from within your cluster:

    my-nginx.default.svc.cluster.local (port 80)</code></pre>



<h3 id="3-4-helm-get"><a href="#3-4-helm-get" class="headerlink" title="3.4 helm get"></a>3.4 <code>helm get</code></h3><p>获取某个 Release 的扩展信息，包括：</p>
<ul>
<li><code>helm get hooks</code> - 获取 Release 关联的钩子信息</li>
<li><code>helm get manifest</code> - 获取 Release 的清单信息</li>
<li><code>helm get notes</code> - 获取 Release 的注释</li>
<li><code>helm get values</code> - 获取 Release 的 values 文件</li>
<li><code>helm get all</code> - 获取 Release 的所有信息</li>
</ul>
<pre><code class="highlight bash">$ helm get values my-nginx
USER-SUPPLIED VALUES:
service:
  nodePorts:
    http: 30003
  <span class="built_in">type</span>: NodePort</code></pre>



<h3 id="3-5-helm-upgrade"><a href="#3-5-helm-upgrade" class="headerlink" title="3.5 helm upgrade"></a>3.5 <code>helm upgrade</code></h3><p>将 Release 升级到新版本的 Chart：</p>
<pre><code class="highlight bash">$ helm upgrade my-nginx ./nginx
Release <span class="string">&quot;my-nginx&quot;</span> has been upgraded. Happy Helming!</code></pre>

<p>升级时可以通过 <code>--set</code> 选项修改配置参数：</p>
<pre><code class="highlight bash">$ helm upgrade my-nginx ./nginx \
    --<span class="built_in">set</span> service.ports.http=8080</code></pre>



<h3 id="3-6-helm-history"><a href="#3-6-helm-history" class="headerlink" title="3.6 helm history"></a>3.6 <code>helm history</code></h3><p>查看某个 Release 的版本记录：</p>
<pre><code class="highlight bash">$ helm <span class="built_in">history</span> my-nginx
REVISION	UPDATED                 	STATUS    	CHART       	APP VERSION	DESCRIPTION     
1       	Sun Jun 22 17:50:26 2025	superseded	nginx-20.1.3	1.28.0     	Install complete
2       	Sun Jun 22 17:55:25 2025	deployed  	nginx-20.1.3	1.28.0     	Upgrade complete</code></pre>



<h3 id="3-7-helm-rollback"><a href="#3-7-helm-rollback" class="headerlink" title="3.7 helm rollback"></a>3.7 <code>helm rollback</code></h3><p>将 Release 回滚到某个版本：</p>
<pre><code class="highlight bash">$ helm rollback my-nginx 1
Rollback was a success! Happy Helming!</code></pre>

<p>再查看版本记录可以看到多了一条记录：</p>
<pre><code class="highlight bash">$ helm <span class="built_in">history</span> my-nginx
REVISION	UPDATED                 	STATUS    	CHART       	APP VERSION	DESCRIPTION     
1       	Sun Jun 22 17:50:26 2025	superseded	nginx-20.1.3	1.28.0     	Install complete
2       	Sun Jun 22 17:55:25 2025	superseded	nginx-20.1.3	1.28.0     	Upgrade complete
3       	Sun Jun 22 17:56:48 2025	deployed  	nginx-20.1.3	1.28.0     	Rollback to 1</code></pre>



<h3 id="3-8-helm-uninstall"><a href="#3-8-helm-uninstall" class="headerlink" title="3.8 helm uninstall"></a>3.8 <code>helm uninstall</code></h3><p>卸载 Release：</p>
<pre><code class="highlight bash">$ helm uninstall my-nginx
release <span class="string">&quot;my-nginx&quot;</span> uninstalled</code></pre>





<h1 id="八、搭建-Chart-私有仓库"><a href="#八、搭建-Chart-私有仓库" class="headerlink" title="八、搭建 Chart 私有仓库"></a>八、搭建 Chart 私有仓库</h1><h2 id="1-创建一个-HTTP-Server-作为chart仓库"><a href="#1-创建一个-HTTP-Server-作为chart仓库" class="headerlink" title="1. 创建一个 HTTP Server 作为chart仓库"></a>1. 创建一个 HTTP Server 作为chart仓库</h2><pre><code class="highlight bash"><span class="comment"># 创建挂载目录</span>
$ <span class="built_in">mkdir</span> -p /var/www/charts

<span class="comment"># 拉取 httpd 镜像</span>
$ docker pull httpd:2.4.63

<span class="comment"># 启动容器</span>
$ docker run -d -p 8899:80 --name=my-chart --restart=always -v /var/www:/usr/local/apache2/htdocs httpd:2.4.63</code></pre>

<p>浏览器访问 Chart 仓库</p>
<p><img src="https://raw.githubusercontent.com/GeorgeChan95/blogimg/master/img/2025/06/22/20250622-181042.png" alt="Chart 私有仓库"></p>
<p><strong>需要注意:</strong></p>
<ul>
<li><em>宿主机的&#x2F;var&#x2F;www目录需要存在,且有一定的访问权限。</em></li>
<li><em>容器内部的 httpd 配置不要和宿主机 8081 端口冲突。</em></li>
<li><em>可以添加-v宿主机日志目录:容器日志目录来收集日志。</em></li>
<li><em>可以设置时区等参数对容器进行定制。</em></li>
</ul>
<h2 id="2-Helm-Chart上传到私有仓库"><a href="#2-Helm-Chart上传到私有仓库" class="headerlink" title="2. Helm Chart上传到私有仓库"></a>2. Helm Chart上传到私有仓库</h2><p>这里为了测试方便，将前面案例中所使用的Chart 安装包：nginx-20.1.3.tgz 解压，然后打包上传到 Chart 私有仓库</p>
<pre><code class="highlight bash"><span class="comment"># 1.将 nginx 目录打包成tgz文件,用于发布。</span>
$ helm package nginx/
Successfully packaged chart and saved it to: /opt/software/nginx-20.1.3.tgz

<span class="comment"># 2.创建文件夹作为chart仓库目录。</span>
$ <span class="built_in">mkdir</span> myrepo

<span class="comment"># 3. 将打包好的chart移动到仓库目录下。</span>
$ <span class="built_in">mv</span> nginx-20.1.3.tgz myrepo/

<span class="comment"># 4. 在myrepo目录生成index.yaml索引文件,用于仓库查询。</span>
$ helm repo index myrepo --url http://192.168.6.203:8899/charts

<span class="comment"># 5. 将index和chart复制到Web服务器目录下,提供下载。</span>
$ <span class="built_in">cd</span> myrepo/
$ scp index.yaml nginx-20.1.3.tgz /var/www/charts

<span class="comment"># 6. 在本地Helm中添加这个chart仓库源,名为newrepo。</span>
$ helm repo add newrepo http://192.168.6.203:8899/charts

<span class="comment"># 7. 列出已知的仓库列表,确保newrepo添加成功。</span>
$ helm repo list

<span class="comment"># 8. 更新本地缓存的仓库index文件。</span>
$ helm repo update

<span class="comment"># 9. 在newrepo仓库中搜索 nginx 是否可用。</span>
$ helm search repo newrepo/nginx
NAME         	CHART VERSION	APP VERSION	DESCRIPTION                                       
newrepo/nginx	20.1.3       	1.28.0     	NGINX Open Source is a web server that can be a...</code></pre>



<h2 id="3-测试私有仓库"><a href="#3-测试私有仓库" class="headerlink" title="3. 测试私有仓库"></a>3. 测试私有仓库</h2><pre><code class="highlight bash"><span class="comment"># 使用本地仓库的Chart 安装Nginx</span>
$ helm install newrepo/nginx --generate-name

<span class="comment"># 查看Release</span>
$ helm list
NAME            	NAMESPACE	REVISION	UPDATED                                	STATUS  	CHART       	APP VERSION
nginx-1750588514	default  	1       	2025-06-22 18:35:14.639466957 +0800 CST	deployed	nginx-20.1.3	1.28.0</code></pre>

<p>浏览器查看私有仓库</p>
<p><img src="https://raw.githubusercontent.com/GeorgeChan95/blogimg/master/img/2025/06/22/20250622-183645.png" alt="私有Chart仓库"></p>
<h1 id="九、自定义Chart"><a href="#九、自定义Chart" class="headerlink" title="九、自定义Chart"></a>九、自定义Chart</h1><h2 id="1-创建模板"><a href="#1-创建模板" class="headerlink" title="1. 创建模板"></a>1. 创建模板</h2><pre><code class="highlight bash"><span class="comment"># 创建chart模板</span>
$ helm create myapp

<span class="comment"># 查看模板目录结构</span>
$ tree myapp/
myapp/
├── Chart.yaml
├── charts
├── templates
│   ├── NOTES.txt
│   ├── _helpers.tpl
│   ├── deployment.yaml
│   ├── hpa.yaml
│   ├── ingress.yaml
│   ├── service.yaml
│   ├── serviceaccount.yaml
│   └── tests
│       └── test-connection.yaml
└── values.yaml</code></pre>



<h2 id="2-删除多余的文件"><a href="#2-删除多余的文件" class="headerlink" title="2. 删除多余的文件"></a>2. 删除多余的文件</h2><pre><code class="highlight bash"><span class="comment"># 当前案例比较简单，暂时用不到这些文件，先删除</span>
$ <span class="built_in">rm</span> -rf templates/_helpers.tpl templates/hpa.yaml templates/ingress.yaml templates/serviceaccount.yaml templates/tests/test-connection.yaml templates/NOTES.txt</code></pre>



<h2 id="3-service-yaml"><a href="#3-service-yaml" class="headerlink" title="3. service.yaml"></a>3. service.yaml</h2><pre><code class="highlight yaml"><span class="string">$</span> <span class="string">vim</span> <span class="string">service.yaml</span>

<span class="attr">apiVersion:</span> <span class="string">v1</span>
<span class="attr">kind:</span> <span class="string">Service</span>
<span class="attr">metadata:</span>
  <span class="attr">name:</span> <span class="string">myapp-test</span>
  <span class="attr">labels:</span>
    <span class="attr">app:</span> <span class="string">myapp-svc</span>
<span class="attr">spec:</span>
  <span class="comment"># Service 类型，从 values.yaml 文件取</span>
  <span class="attr">type:</span> &#123;&#123; <span class="string">.Values.service.type</span> &#125;&#125;
  <span class="attr">ports:</span>
    <span class="bullet">-</span> <span class="attr">port:</span> &#123;&#123; <span class="string">.Values.service.port</span> &#125;&#125; <span class="comment"># Service 端口，从 values.yaml 文件取</span>
      <span class="attr">targetPort:</span> <span class="number">80</span>
      <span class="attr">protocol:</span> <span class="string">TCP</span>
      <span class="attr">name:</span> <span class="number">80</span><span class="number">-80</span>
      <span class="attr">nodePort:</span> <span class="number">30003</span>
  <span class="attr">selector:</span>
    <span class="attr">app:</span> <span class="string">myapp-test</span></code></pre>



<h2 id="4-deployment-yaml"><a href="#4-deployment-yaml" class="headerlink" title="4. deployment.yaml"></a>4. deployment.yaml</h2><pre><code class="highlight yaml"><span class="string">$</span> <span class="string">vim</span> <span class="string">deployment.yaml</span>

<span class="attr">apiVersion:</span> <span class="string">apps/v1</span>
<span class="attr">kind:</span> <span class="string">Deployment</span>
<span class="attr">metadata:</span>
  <span class="attr">labels:</span>
    <span class="attr">app:</span> <span class="string">myapp-deploy</span>
  <span class="attr">name:</span> <span class="string">myapp-deploy</span>
<span class="attr">spec:</span>
  <span class="attr">replicas:</span> &#123;&#123; <span class="string">.Values.replicaCount</span> &#125;&#125; <span class="comment"># Pod副本数，从 values.yaml 文件取</span>
  <span class="attr">selector:</span>
    <span class="attr">matchLabels:</span>
      <span class="attr">app:</span> <span class="string">myapp-test</span>
  <span class="attr">template:</span>
    <span class="attr">metadata:</span>
      <span class="attr">labels:</span>
        <span class="attr">app:</span> <span class="string">myapp-test</span>
    <span class="attr">spec:</span>
      <span class="attr">containers:</span>
        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">myapp</span>
          <span class="attr">image:</span> <span class="string">wangyanglinux/myapp:v1.0</span>
          <span class="attr">imagePullPolicy:</span> &#123;&#123; <span class="string">.Values.image.pullPolicy</span> &#125;&#125; <span class="comment"># 镜像拉取策略，从 values.yaml 文件取</span></code></pre>



<h2 id="5-values-yaml"><a href="#5-values-yaml" class="headerlink" title="5. values.yaml"></a>5. values.yaml</h2><pre><code class="highlight yaml"><span class="string">$</span> <span class="string">vim</span> <span class="string">values.yaml</span>

<span class="comment"># Pod副本数</span>
<span class="attr">replicaCount:</span> <span class="number">1</span>

<span class="attr">image:</span>
  <span class="comment"># 镜像拉取策略</span>
  <span class="attr">pullPolicy:</span> <span class="string">IfNotPresent</span>

<span class="attr">service:</span>
  <span class="comment"># Service类型</span>
  <span class="attr">type:</span> <span class="string">NodePort</span>
  <span class="comment"># service端口</span>
  <span class="attr">port:</span> <span class="number">80</span></code></pre>



<h2 id="6-Chart-yaml"><a href="#6-Chart-yaml" class="headerlink" title="6. Chart.yaml"></a>6. Chart.yaml</h2><pre><code class="highlight yaml"><span class="string">$</span> <span class="string">vim</span> <span class="string">Chart.yaml</span>

<span class="attr">apiVersion:</span> <span class="string">v2</span>
<span class="attr">name:</span> <span class="string">myapp</span>
<span class="attr">description:</span> <span class="string">A</span> <span class="string">Helm</span> <span class="string">chart</span> <span class="string">for</span> <span class="string">Kubernetes</span>

<span class="comment"># A chart can be either an &#x27;application&#x27; or a &#x27;library&#x27; chart.</span>
<span class="comment">#</span>
<span class="comment"># Application charts are a collection of templates that can be packaged into versioned archives</span>
<span class="comment"># to be deployed.</span>
<span class="comment">#</span>
<span class="comment"># Library charts provide useful utilities or functions for the chart developer. They&#x27;re included as</span>
<span class="comment"># a dependency of application charts to inject those utilities and functions into the rendering</span>
<span class="comment"># pipeline. Library charts do not define any templates and therefore cannot be deployed.</span>
<span class="attr">type:</span> <span class="string">application</span>

<span class="comment"># This is the chart version. This version number should be incremented each time you make changes</span>
<span class="comment"># to the chart and its templates, including the app version.</span>
<span class="comment"># Versions are expected to follow Semantic Versioning (https://semver.org/)</span>
<span class="attr">version:</span> <span class="number">0.1</span><span class="number">.0</span>

<span class="comment"># This is the version number of the application being deployed. This version number should be</span>
<span class="comment"># incremented each time you make changes to the application. Versions are not expected to</span>
<span class="comment"># follow Semantic Versioning. They should reflect the version the application is using.</span>
<span class="comment"># It is recommended to use it with quotes.</span>
<span class="attr">appVersion:</span> <span class="string">&quot;1.16.0&quot;</span></code></pre>



<h2 id="7-发布部署"><a href="#7-发布部署" class="headerlink" title="7. 发布部署"></a>7. 发布部署</h2><pre><code class="highlight bash">$ helm install myapp myapp/
NAME: myapp
LAST DEPLOYED: Wed Jun 25 12:57:58 2025
NAMESPACE: default
STATUS: deployed
REVISION: 1
TEST SUITE: None


<span class="comment"># 查看部署的 Release</span>
$ helm list
NAME 	NAMESPACE	REVISION	UPDATED                               	STATUS  	CHART      	APP VERSION
myapp	default  	1       	2025-06-25 12:57:58.07309733 +0800 CST	deployed	myapp-0.1.0	1.16.0

<span class="comment"># 查看 Service</span>
$ kubectl get svc -o wide
NAME         TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)        AGE     SELECTOR
kubernetes   ClusterIP   10.96.0.1        &lt;none&gt;        443/TCP        57d     &lt;none&gt;
myapp-test   NodePort    10.108.147.243   &lt;none&gt;        80:30003/TCP   3m41s   app=myapp-test

<span class="comment"># 查看 Deployment</span>
$ kubectl get deploy -o wide
NAME           READY   UP-TO-DATE   AVAILABLE   AGE     CONTAINERS   IMAGES                     SELECTOR
myapp-deploy   1/1     1            1           4m58s   myapp        wangyanglinux/myapp:v1.0   app=myapp-test

<span class="comment"># 查看 Pod</span>
$ kubectl get pod -o wide
NAME                            READY   STATUS    RESTARTS   AGE     IP              NODE         NOMINATED NODE   READINESS GATES
myapp-deploy-7ff87cfb6c-nfff4   1/1     Running   0          5m29s   172.16.58.227   k8s-node02   &lt;none&gt;           &lt;none&gt;</code></pre>



<p>浏览器访问 Service</p>
<p><a target="_blank" rel="noopener" href="http://192.168.6.139:30003/">http://192.168.6.139:30003/</a></p>
<p><img src="https://raw.githubusercontent.com/GeorgeChan95/blogimg/master/img/2025/06/25/20250625-130414.png" alt="访问自定Chart"></p>
<h2 id="8-打包Chart，发布到私有仓库"><a href="#8-打包Chart，发布到私有仓库" class="headerlink" title="8. 打包Chart，发布到私有仓库"></a>8. 打包Chart，发布到私有仓库</h2><pre><code class="highlight bash"><span class="comment"># 1.将 myapp 目录打包成tgz文件,用于发布。</span>
$ helm package myapp/
Successfully packaged chart and saved it to: /opt/k8s/10/myapp-0.1.0.tgz

<span class="comment"># 2.将打包好的压缩包移动到创建的私有仓库目录中（本文第八段有说明）</span>
$ <span class="built_in">mv</span> myapp-0.1.0.tgz /opt/software/myrepo/

<span class="comment"># 3. 在myrepo目录生成index.yaml索引文件,用于仓库查询。</span>
$ $ helm repo index /opt/software/myrepo/ --url http://192.168.6.203:8899/charts

<span class="comment"># 4. 将index和chart复制到Web服务器目录下,提供下载。</span>
$ <span class="built_in">cd</span> /opt/software/myrepo/
$ scp -r ./* root@192.168.6.203:/var/www/charts/

<span class="comment"># 5. 在本地Helm中添加这个chart仓库源,名为newrepo。</span>
$ helm repo add newrepo http://192.168.6.203:8899/charts

<span class="comment"># 6. 列出已知的仓库列表,确保newrepo添加成功。</span>
$ helm repo list

<span class="comment"># 7. 更新本地缓存的仓库index文件。</span>
$ helm repo update

<span class="comment"># 8. 在newrepo仓库中搜索 nginx 是否可用。</span>
$ helm search repo newrepo/myapp
NAME         	CHART VERSION	APP VERSION	DESCRIPTION                
newrepo/myapp	0.1.0        	1.16.0     	A Helm chart <span class="keyword">for</span> Kubernetes

<span class="comment"># 9. 从私有仓库拉取chart，并安装到服务器</span>
$ helm install newrepo/myapp --generate-name
NAME: myapp-1750829238
LAST DEPLOYED: Wed Jun 25 13:27:18 2025
NAMESPACE: default
STATUS: deployed
REVISION: 1
TEST SUITE: None

<span class="comment"># 10. 卸载 Chart</span>
$ helm uninstall myapp-1750829238
release <span class="string">&quot;myapp-1750829238&quot;</span> uninstalled</code></pre>






      
       <hr><span style="font-style: italic;color: gray;"> 转载请注明来源，欢迎对文章中的引用来源进行考证，欢迎指出任何有错误或不够清晰的表达。可以在下面评论区评论，也可以邮件至 george_95@126.com </span>
    </div>
</article>





    <div id="comments"></div>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">

<script type="text/javascript">
    $.getScript('/js/gitalk.js', function () {
        var gitalk = new Gitalk({
            clientID: 'f820fe811764cacedc4f',
            clientSecret: '0ce07abb65f0e79ddb8830f32029b8a9656e0ee0',
            repo: 'georgechan95.github.io',
            owner: 'GeorgeChan95',
            admin: ['GeorgeChan95'],
            id: decodeURI(location.pathname),
            distractionFreeMode: 'true',
            language: 'zh-CN',
            perPage: parseInt('15',10)
        })
        gitalk.render('comments')
    })
</script>




    




    </div>
    <div class="copyright">
        <p class="footer-entry">
    ©2016-2020 George
</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full" data-title="切换全屏 快捷键 s"><span class="min "></span></button>
<a class="" id="rocket" ></a>

    </div>
</div>

</body>
<script src="/js/jquery.pjax.js?v=1.1.0" ></script>

<script src="/js/script.js?v=1.1.0" ></script>
<script>
    var img_resize = 'default';
    function initArticle() {
        /*渲染对应的表格样式*/
        
            $("#post .pjax table").addClass("green_title");
        

        /*渲染打赏样式*/
        

        /*高亮代码块行号*/
        

        /*访问数量*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*代码高亮，行号对齐*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
    }

    /*打赏页面隐藏与展示*/
    

</script>

<!--加入行号的高亮代码块样式-->

<!--自定义样式设置-->
<style>
    
    
    .nav {
        width: 542px;
    }
    .nav.fullscreen {
        margin-left: -542px;
    }
    .nav-left {
        width: 120px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*列表样式*/
    

    /* 背景图样式 */
    
    


    /*引用块样式*/
    

    /*文章列表背景图*/
    

    
    #post .pjax article :not(pre) > code {
        color: #24292e;
        font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;
        background-color: rgba(27,31,35,.05);
        border-radius: 3px;
        font-size: 85%;
        margin: 0;
        padding: .2em .4em;
    }
    
</style>







</html>
